<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="dbtech_credits" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:title>{{ phrase('admin_navigation.dbtechCredits') }}</xf:title>

<xf:macro template="section_nav_macros" name="section_nav" arg-section="dbtechCredits" />]]></template>
  <template type="admin" title="dbtech_credits_currency_edit" version_id="905080070" version_string="5.8.0"><![CDATA[<xf:if is="$currency.isInsert()">
	<xf:title>{{ phrase('dbtech_credits_add_currency') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('dbtech_credits_edit_currency:') }} {$currency.title}</xf:title>
</xf:if>

<xf:pageaction if="$currency.isUpdate()">
	<xf:button href="{{ link('dbtech-credits/currencies/delete', $currency) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:form action="{{ link('dbtech-credits/currencies/save', $currency) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow name="title" value="{$currency.title}"
				label="{{ phrase('title') }}" />

			<xf:editorrow name="description" value="{$currency.description}" data-min-height="200"
						  label="{{ phrase('description') }}" />

			<xf:macro template="display_order_macros" name="row"
					  arg-value="{$currency.display_order}" />

			<xf:checkboxrow>
				<xf:option name="active" value="1" selected="$currency.active">{{ phrase('dbtech_credits_currency_is_active') }}</xf:option>
			</xf:checkboxrow>
		</div>

		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block is-active" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('dbtech_credits_currency_options') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible is-active">
			<xf:formrow label="{{ phrase('dbtech_credits_points_table') }}">
				xf_{$currency.table}
			</xf:formrow>

			<xf:textboxrow name="column" value="{$currency.column}" required="true"
						   label="{{ phrase('dbtech_credits_points_column') }}"
						   explain="{{ phrase('dbtech_credits_points_column_explain') }}" />

			<hr class="formRowSep" />

			<xf:numberboxrow name="decimals" value="{$currency.decimals}" min="0" max="8" step="1"
						   label="{{ phrase('dbtech_credits_currency_rounding') }}"
						   explain="{{ phrase('dbtech_credits_currency_rounding_explain') }}" />

			<xf:radiorow name="negative" value="{$currency.negative}"
							label="{{ phrase('dbtech_credits_currency_negative') }}"
							explain="{{ phrase('dbtech_credits_currency_explain') }}"
			>
				<xf:option value="0">{{ phrase('dbtech_credits_currency_negreset') }}</xf:option>
				<xf:option value="1">{{ phrase('dbtech_credits_currency_negshow') }}</xf:option>
				<xf:option value="2">{{ phrase('dbtech_credits_currency_negallow') }}</xf:option>
			</xf:radiorow>

			<xf:radiorow name="privacy" value="{$currency.privacy}"
							label="{{ phrase('dbtech_credits_currency_privacy') }}"
							explain="{{ phrase('dbtech_credits_currency_privacy_explain') }}"
			>
				<xf:option value="0">{{ phrase('dbtech_credits_currency_privspecial') }}</xf:option>
				<xf:option value="1">{{ phrase('dbtech_credits_currency_privself') }}</xf:option>
				<xf:option value="2">{{ phrase('dbtech_credits_currency_privall') }}</xf:option>
			</xf:radiorow>

			<hr class="formRowSep" />

			<xf:textboxrow name="prefix" value="{$currency.prefix}"
						   label="{{ phrase('dbtech_credits_currency_prefix') }}"
						   explain="{{ phrase('dbtech_credits_currency_prefix_explain') }}" />

			<xf:textboxrow name="suffix" value="{$currency.suffix}"
						   label="{{ phrase('dbtech_credits_currency_suffix') }}"
						   explain="{{ phrase('dbtech_credits_currency_suffix_explain') }}" />

			<xf:checkboxrow>
				<xf:option name="is_display_currency" value="1" selected="$currency.is_display_currency" hint="{{ phrase('dbtech_credits_currency_displaycurrency_explain') }}">{{ phrase('dbtech_credits_currency_displaycurrency') }}</xf:option>
				<xf:option name="sidebar" value="1" selected="$currency.sidebar" hint="{{ phrase('dbtech_credits_currency_sidebar_explain') }}">{{ phrase('dbtech_credits_currency_sidebar') }}</xf:option>
				<xf:option name="member_dropdown" value="1" selected="$currency.member_dropdown" hint="{{ phrase('dbtech_credits_currency_member_dropdown_explain') }}">{{ phrase('dbtech_credits_currency_member_dropdown') }}</xf:option>
				<xf:option name="postbit" value="1" selected="$currency.postbit">{{ phrase('dbtech_credits_currency_postbit') }}</xf:option>
				<xf:option name="show_amounts" value="1" selected="$currency.show_amounts">{{ phrase('dbtech_credits_currency_show_amounts') }}</xf:option>
			</xf:checkboxrow>

		</div>

		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('advanced_options') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible">
			<xf:numberboxrow name="earnmax" value="{$currency.earnmax}" min="0" step="any"
							 label="{{ phrase('dbtech_credits_currency_earnmax') }}"
							 explain="{{ phrase('dbtech_credits_currency_earnmax_explain') }}" />

			<xf:numberboxrow name="maxtime" value="{$currency.maxtime}" min="0" step="1"
							 label="{{ phrase('dbtech_credits_currency_maxtime') }}"
							 explain="{{ phrase('dbtech_credits_currency_maxtime_explain') }}" />

			<xf:numberboxrow name="value" value="{$currency.value}" step="any"
							 label="{{ phrase('dbtech_credits_currency_value') }}"
							 explain="{{ phrase('dbtech_credits_currency_value_explain') }}" />

			<xf:checkboxrow>
				<xf:option name="inbound" value="1" selected="$currency.inbound" hint="{{ phrase('dbtech_credits_currency_inbound_explain') }}">{{ phrase('dbtech_credits_currency_inbound') }}</xf:option>
				<xf:option name="outbound" value="1" selected="$currency.outbound" hint="{{ phrase('dbtech_credits_currency_outbound_explain') }}">{{ phrase('dbtech_credits_currency_outbound') }}</xf:option>
			</xf:checkboxrow>

		</div>

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_currency_list" version_id="905030070" version_string="5.3.0"><![CDATA[<xf:title>{{ phrase('dbtech_credits_currencies') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('dbtech-credits/currencies/add') }}" icon="add">{{ phrase('dbtech_credits_add_currency') }}</xf:button>
</xf:pageaction>

<xf:form action="{{ link('dbtech-credits/currencies/toggle') }}" class="block" ajax="true">
	<div class="block-outer">
		<xf:macro template="filter_macros" name="quick_filter" arg-key="dbtech-credits/currencies" arg-class="block-outer-opposite" />
	</div>
	<div class="block-container">
		<div class="block-body">
			<xf:datalist>
				<xf:foreach loop="$currencies" value="$currency">
					<xf:datarow>
						<xf:main hash="{$currency.currency_id}" href="{{ link('dbtech-credits/currencies/edit', $currency) }}"
								 label="{$currency.title}">
							<xf:hint>
								{{ $currency.is_display_currency ? phrase('dbtech_credits_display_currency') : '' }}
							</xf:hint>
							<xf:explain>
								<ul class="listInline listInline--bullet">
									<li>{$currency.table}</li>
									<li>{$currency.column}</li>
								</ul>
							</xf:explain>
						</xf:main>
						<xf:popup class="dataList-cell--action"
								  label="{{ phrase('view...') }}">

							<div class="menu" data-menu="menu" aria-hidden="true">
								<div class="menu-content">
									<h3 class="menu-header">{{ phrase('view...') }}</h3>
									<a href="{{ link('dbtech-credits/events', null, {'criteria': {'currency_id': $currency.currency_id}}) }}" class="menu-linkRow">{{ phrase('dbtech_credits_view_events') }}</a>
								</div>
							</div>
						</xf:popup>
						<xf:toggle name="active[{$currency.currency_id}]" selected="$currency.active"
								   class="dataList-cell--separated" submit="true"
								   tooltip="{{ phrase('enable_disable_x', {'title': $currency.title}) }}" />
						<xf:delete href="{{ link('dbtech-credits/currencies/delete', $currency) }}"
								   tooltip="{{ phrase('delete') }} " />
					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
		</div>
		<div class="block-footer">
			<span class="block-footer-counter">{{ display_totals($currencies) }}</span>
		</div>
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_event_add_chooser" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:title>{{ phrase('dbtech_credits_add_event...') }}</xf:title>

<xf:form action="{{ link('dbtech-credits/events/add') }}" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:macro template="public:dbtech_credits_event_macros" name="event_trigger_select"
					  arg-eventTriggerId="" arg-eventTriggers="{$eventTriggers}" />
		</div>
		
		<xf:submitrow icon="add" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_event_edit" version_id="905060032" version_string="5.6.0 Beta 2"><![CDATA[<xf:if is="$event.isInsert()">
	<xf:title>{{ phrase('dbtech_credits_add_event') }}</xf:title>
<xf:else />
	<xf:title>{{ phrase('dbtech_credits_edit_event:') }} {$event.title}</xf:title>
</xf:if>

<xf:pageaction if="$event.isUpdate()">
	<xf:button href="{{ link('dbtech-credits/events/delete', $event) }}" icon="delete" overlay="true" />
</xf:pageaction>

<xf:set var="$eventTrigger" value="{{ $xf.app.em.getRepository('DBTech\Credits:EventTrigger')->getHandler($event.event_trigger_id) }}" />
<xf:set var="$eventTriggerLabels" value="{{ $eventTrigger.getLabels() }}" />
<xf:set var="$multiplier" value="{{ $eventTrigger.getMultiplier() }}" />

<xf:form action="{{ link('dbtech-credits/events/save', $event) }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">

			<xf:formrow label="{{ phrase('dbtech_credits_eventtrigger') }}">
				{{ $eventTrigger.getTitle() }}
				<div class="u-muted">{{ $eventTrigger.getDescription() }}</div>
			</xf:formrow>

			<xf:textboxrow name="title" value="{$event.title_}"
				label="{{ phrase('title') }}" />

			<xf:macro template="public:dbtech_credits_currency_macros" name="currency_select"
					  arg-currencyId="{$event.currency_id}" />

			<xf:checkboxrow>
				<xf:option name="active" value="1" selected="$event.active">{{ phrase('dbtech_credits_event_is_active') }}</xf:option>
			</xf:checkboxrow>
		</div>

		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block is-active" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('dbtech_credits_event_options') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible is-active">
			<xf:if is="$eventTrigger.getOption('useUserGroups')">
				<xf:macro template="public:dbtech_credits_helper_user_group_edit" name="usable_checkboxes"
						  arg-label="{{ phrase('dbtech_credits_event_usergroups') }}"
						  arg-explain="{{ phrase('dbtech_credits_event_usergroups_explain') }}"
						  arg-selectedUserGroups="{{ $event.event_id ? $event.user_group_ids : [-1] }}" />
			</xf:if>

			<xf:if is="!$eventTrigger.getOption('isGlobal')">
				<xf:selectrow name="node_ids[]" multiple="true" size="8" value="{{ $event.event_id ? $event.node_ids : [-1] }}"
							  label="{{ phrase('dbtech_credits_event_forums') }}"
							  explain="{{ phrase('dbtech_credits_event_forums_explain') }}">

					<xf:option value="-1">{{ phrase('(all)') }}</xf:option>

					<xf:foreach loop="$nodeTree.getFlattened(0)" value="$treeEntry">
						<xf:option value="{$treeEntry.record.node_id}" disabled="{{ $treeEntry.record.node_type_id != 'Forum' ? true : false }}">{{ repeat('--', $treeEntry.depth) }} {$treeEntry.record.title}</xf:option>
					</xf:foreach>
				</xf:selectrow>
			</xf:if>

			<hr class="formRowSep" />

			<xf:if is="$eventTrigger.getOption('useOwner')">
				<xf:radiorow name="owner" value="{$event.owner}"
							 label="{{ phrase('dbtech_credits_event_owner') }}"
							 explain="{$eventTriggerLabels.owner_explain}">

					<xf:option value="0">{{ phrase('dbtech_credits_event_owner_always_allowed') }}</xf:option>
					<xf:option value="1">{$eventTriggerLabels.owner_only_others}</xf:option>
					<xf:option value="2">{$eventTriggerLabels.owner_only_own}</xf:option>
				</xf:radiorow>
			</xf:if>

			<xf:checkboxrow>
				<xf:if is="$eventTrigger.getOption('canCharge')">
					<xf:option name="charge" value="1" selected="$event.charge" hint="{{ !$eventTrigger.getOption('canCancel') ? phrase('dbtech_credits_event_is_charged_no_cancel_explain') : phrase('dbtech_credits_event_is_charged_cancel_explain') }}">
						{{ phrase('dbtech_credits_event_is_charged') }}
					</xf:option>
				</xf:if>

				<xf:option name="moderate" value="1" selected="$event.moderate" hint="{{ phrase('dbtech_credits_event_transactions_moderated_hint') }}">
					{{ phrase('dbtech_credits_event_transactions_moderated') }}
				</xf:option>
			</xf:checkboxrow>

			<xf:if is="$multiplier == 3">
				<xf:numberboxrow name="main_add" value="{$event.main_add}" step="any"
								 label="{{ phrase('dbtech_credits_event_main_add_currency') }}"
								 explain="{{ phrase('dbtech_credits_event_main_add_currency_explain') }}" />
			<xf:else />
				<xf:numberboxrow name="main_add" value="{$event.main_add}" step="any"
								 label="{{ phrase('dbtech_credits_event_main_add_nocurrency') }}"
								 explain="{{ phrase('dbtech_credits_event_main_add_nocurrency_explain') }}" />

			</xf:if>

			<xf:numberboxrow name="upperrand" value="{$event.upperrand}" step="any"
							 label="{{ phrase('dbtech_credits_event_upperrand') }}"
							 explain="{{ phrase('dbtech_credits_event_upperrand_explain') }}" />

			<xf:if is="$eventTrigger.getOption('canRevert')">
				<xf:if is="$multiplier == 3">
					<xf:numberboxrow name="main_sub" value="{$event.main_sub}" step="any"
									 label="{{ phrase('dbtech_credits_event_main_sub_currency') }}"
									 explain="{{ phrase('dbtech_credits_event_main_sub_currency_explain') }}" />
				<xf:else />
					<xf:numberboxrow name="main_sub" value="{$event.main_sub}" step="any"
									 label="{{ phrase('dbtech_credits_event_main_sub_nocurrency') }}"
									 explain="{{ phrase('dbtech_credits_event_main_sub_nocurrency_explain') }}" />

				</xf:if>
			</xf:if>

			<xf:if is="$multiplier">
				<xf:if is="$multiplier == 3">
					<xf:numberboxrow name="mult_add" value="{$event.mult_add}" step="any"
									 label="{{ phrase('dbtech_credits_event_mult_add_currency') }}"
									 explain="{{ phrase('dbtech_credits_event_mult_add_currency_explain') }}" />
				<xf:else />
					<xf:numberboxrow name="mult_add" value="{$event.mult_add}" step="any"
									 label="{$eventTriggerLabels.multiplier_addition}"
									 explain="{$eventTriggerLabels.multiplier_addition_explain}" />
				</xf:if>

				<xf:if is="$eventTrigger.getOption('canRevert')">
					<xf:if is="$multiplier == 3">
						<xf:numberboxrow name="mult_sub" value="{$event.mult_sub}" step="any"
										 label="{{ phrase('dbtech_credits_event_mult_sub_currency') }}"
										 explain="{{ phrase('dbtech_credits_event_mult_sub_currency_explain') }}" />
					<xf:else />
						<xf:numberboxrow name="mult_sub" value="{$event.mult_sub}" step="any"
										 label="{$eventTriggerLabels.multiplier_negation}"
										 explain="{$eventTriggerLabels.multiplier_negation_explain}" />
					</xf:if>
				</xf:if>

				<xf:if is="$multiplier == 3">
					<xf:radiorow name="curtarget" value="{$event.curtarget}"
								 label="{{ phrase('dbtech_credits_event_curtarget') }}"
								 explain="{{ phrase('dbtech_credits_event_curtarget_explain') }}">

						<xf:option value="0">{{ phrase('dbtech_credits_event_curtarget_0') }}</xf:option>
						<xf:option value="1">{{ phrase('dbtech_credits_event_curtarget_1') }}</xf:option>
						<xf:option value="2">{{ phrase('dbtech_credits_event_curtarget_2') }}</xf:option>
					</xf:radiorow>

					<xf:numberboxrow name="multmin" value="{$event.multmin}" step="any"
									 label="{{ phrase('dbtech_credits_event_multmin_currency') }}"
									 explain="{{ phrase('dbtech_credits_event_multmin_explain') }}" />

					<xf:numberboxrow name="multmax" value="{$event.multmax}" step="any"
									 label="{{ phrase('dbtech_credits_event_multmax_currency') }}"
									 explain="{{ phrase('dbtech_credits_event_multmax_explain') }}" />

					<xf:radiorow name="minaction" value="{$event.minaction}"
								 label="{{ phrase('dbtech_credits_event_minaction_currency') }}"
								 explain="{{ phrase('dbtech_credits_event_minaction_currency_explain') }}">

						<xf:option value="0">{{ phrase('dbtech_credits_event_minaction_0') }}</xf:option>
						<xf:option value="1">{{ phrase('dbtech_credits_event_minaction_1') }}</xf:option>
						<xf:option value="2">{{ $eventTrigger.getOption('canCancel') ? phrase('dbtech_credits_event_minaction_2_cancel') : phrase('dbtech_credits_event_minaction_2_nocancel') }}</xf:option>
					</xf:radiorow>
				<xf:else />
					<xf:numberboxrow name="multmin" value="{$event.multmin}" step="any"
									 label="{$eventTriggerLabels.minimum_amount}"
									 explain="{{ phrase('dbtech_credits_event_multmin_explain') }}" />

					<xf:numberboxrow name="multmax" value="{$event.multmax}" step="any"
									 label="{$eventTriggerLabels.maximum_amount}"
									 explain="{{ phrase('dbtech_credits_event_multmax_explain') }}" />


					<xf:radiorow name="minaction" value="{$event.minaction}"
								 label="{$eventTriggerLabels.minimum_action}"
								 explain="{$eventTriggerLabels.minimum_action_explain}">

						<xf:option value="0" hint="{{ phrase('dbtech_credits_event_minaction_0_explain') }}">{{ phrase('dbtech_credits_event_minaction_0') }}</xf:option>
						<xf:option value="1">{{ phrase('dbtech_credits_event_minaction_1') }}</xf:option>
						<xf:option value="2">{{ $eventTrigger.getOption('canCancel') ? phrase('dbtech_credits_event_minaction_2_cancel') : phrase('dbtech_credits_event_minaction_2_nocancel') }}</xf:option>
					</xf:radiorow>
				</xf:if>
			</xf:if>
		</div>

		<h3 class="block-formSectionHeader">
			<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
				<span class="block-formSectionHeader-aligner">{{ phrase('advanced_options') }}</span>
			</span>
		</h3>
		<div class="block-body block-body--collapsible">
			<xf:numberboxrow name="frequency" value="{$event.frequency}" min="0" step="1"
							 label="{{ phrase('dbtech_credits_event_frequency') }}"
							 explain="{{ phrase('dbtech_credits_event_frequency_explain') }}" />

			<xf:numberboxrow name="applymax" value="{$event.applymax}" min="0" step="1"
							 label="{{ phrase('dbtech_credits_event_applymax') }}"
							 explain="{{ phrase('dbtech_credits_event_applymax_explain') }}" />

			<xf:checkboxrow name="applymax_peruser" value="{$event.applymax_peruser}">
				<xf:option value="1"
						   label="{{ phrase('dbtech_credits_event_applymax_peruser') }}"
						   hint="{{ phrase('dbtech_credits_event_applymax_peruser_hint') }}" />
			</xf:checkboxrow>

			<xf:numberboxrow name="maxtime" value="{$event.maxtime}" min="0" step="1"
							 label="{{ phrase('dbtech_credits_event_maxtime') }}"
							 explain="{{ phrase('dbtech_credits_event_maxtime_explain') }}" />

			<xf:checkboxrow>
				<xf:option name="alert" value="1" selected="$event.alert">{{ phrase('dbtech_credits_event_alert') }}</xf:option>
				<xf:option name="display" value="1" selected="$event.display">{{ phrase('dbtech_credits_event_display') }}</xf:option>
			</xf:checkboxrow>

		</div>

		<xf:if contentcheck="true">
			<h3 class="block-formSectionHeader">
				<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
					<span class="block-formSectionHeader-aligner">{{ phrase('dbtech_credits_event_trigger_specific_settings') }}</span>
				</span>
			</h3>
			<div class="block-body block-body--collapsible">
				<xf:contentcheck>
					{{ $eventTrigger.renderOptions($event)|raw }}
				</xf:contentcheck>
			</div>
		</xf:if>

		<xf:hiddenval name="event_trigger_id" value="{$event.event_trigger_id}" />

		<xf:submitrow sticky="true" icon="save" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_download" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_downloaded" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_gallerydownload" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_gallerydownloaded" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_galleryrated" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_galleryupload" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />]]></template>
  <template type="admin" title="dbtech_credits_event_edit_post" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[threadid]" value="{$event.settings.threadid}"
			   label="{{ phrase('dbtech_credits_event_threadid') }}"
			   explain="{{ phrase('dbtech_credits_event_threadid_explain') }}" />]]></template>
  <template type="admin" title="dbtech_credits_event_edit_purchase" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textarearow name="settings[purchase_description]" value="{$event.settings.purchase_description}" autosize="true"
				label="{{ phrase('description') }}"
				hint="{{ phrase('you_may_use_bb_code') }}" />

<xf:numberboxrow name="settings[purchase_cost]" value="{$event.settings.purchase_cost}" step="any"
				 label="{{ phrase('cost') }}"
				 explain="{{ phrase('dbtech_credits_event_purchase_cost_explain') }}" />

<xf:numberboxrow name="settings[purchase_amount]" value="{$event.settings.purchase_amount}" step="any"
				 label="{{ phrase('dbtech_credits_event_purchase_amount') }}"
				 explain="{{ phrase('dbtech_credits_event_purchase_amount_explain') }}" />

<xf:set var="$paymentProfiles" value="{{ $xf.app.em.getRepository('XF:Payment')->getPaymentProfileTitlePairs() }}" />

<xf:selectrow name="settings[payment_profile_ids][]" multiple="true" size="8"
			  value="{{ $event.settings.payment_profile_ids ? $event.settings.payment_profile_ids : [] }}"
			  label="{{ phrase('payment_profile') }}">

	<xf:options source="{$paymentProfiles}" />
</xf:selectrow>
]]></template>
  <template type="admin" title="dbtech_credits_event_edit_react" version_id="905020170" version_string="5.2.1"><![CDATA[<xf:set var="$reactions" value="{{ $xf.app.em.getRepository('XF:Reaction').findReactionsForList() }}" />

<xf:selectrow name="settings[reaction_ids]" multiple="true" size="8" value="{$event.settings.reaction_ids}"
			   label="{{ phrase('reactions') }}"
			   explain="{{ phrase('dbtech_credits_event_reactions_explain') }}">

	<xf:option value="-1">{{ phrase('(any)') }}</xf:option>
	<xf:foreach loop="$reactions" value="$reaction">
		<xf:option value="{$reaction.reaction_id}">{$reaction.title}</xf:option>
	</xf:foreach>

</xf:selectrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_reacted" version_id="905020170" version_string="5.2.1"><![CDATA[<xf:set var="$reactions" value="{{ $xf.app.em.getRepository('XF:Reaction').findReactionsForList() }}" />

<xf:selectrow name="settings[reaction_ids]" multiple="true" size="8" value="{$event.settings.reaction_ids}"
			  label="{{ phrase('reactions') }}"
			  explain="{{ phrase('dbtech_credits_event_reactions_explain') }}">

	<xf:option value="-1">{{ phrase('(any)') }}</xf:option>
	<xf:foreach loop="$reactions" value="$reaction">
		<xf:option value="{$reaction.reaction_id}">{$reaction.title}</xf:option>
	</xf:foreach>

</xf:selectrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_redeem" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:numberboxrow name="settings[redeem_amount]" value="{$event.settings.redeem_amount}" step="any"
				 label="{{ phrase('dbtech_credits_event_redeem_amount') }}"
				 explain="{{ phrase('dbtech_credits_event_redeem_amount_explain') }}" />

<xf:dateinputrow name="settings[redeem_startdate]" value="{{ $event.settings.redeem_startdate ? date($event.settings.redeem_startdate, 'picker') : date($xf.time, 'picker') }}"
				 label="{{ phrase('start_date') }}"
				 explain="{{ phrase('dbtech_credits_event_redeem_startdate_explain') }}" />

<xf:dateinputrow name="settings[redeem_enddate]" value="{{ $event.settings.redeem_enddate ? date($event.settings.redeem_enddate, 'picker') : date($xf.time, 'picker') }}"
				 label="{{ phrase('end_date') }}"
				 explain="{{ phrase('dbtech_credits_event_redeem_enddate_explain') }}" />

<xf:textboxrow name="settings[redeem_code]" value="{$event.settings.redeem_code}"
			   label="{{ phrase('dbtech_credits_event_redeem_code') }}"
			   explain="{{ phrase('dbtech_credits_event_redeem_code_explain') }}" />

<xf:numberboxrow name="settings[redeem_maxtimes]" value="{$event.settings.redeem_maxtimes}" min="0" step="1"
				 label="{{ phrase('dbtech_credits_event_redeem_maxtimes') }}"
				 explain="{{ phrase('dbtech_credits_event_redeem_maxtimes_explain') }}" />

<xf:numberboxrow name="settings[redeem_maxusers]" value="{$event.settings.redeem_maxusers}" min="0" step="1"
				 label="{{ phrase('dbtech_credits_event_redeem_maxusers') }}"
				 explain="{{ phrase('dbtech_credits_event_redeem_maxusers_explain') }}" />
]]></template>
  <template type="admin" title="dbtech_credits_event_edit_reply" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[threadid]" value="{$event.settings.threadid}"
			   label="{{ phrase('dbtech_credits_event_threadid') }}"
			   explain="{{ phrase('dbtech_credits_event_threadid_explain') }}" />]]></template>
  <template type="admin" title="dbtech_credits_event_edit_resourcedownload" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_resourcedownloaded" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />

<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_resourcerated" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_resourceupload" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:textboxrow name="settings[extension_include]" value="{$event.settings.extension_include}"
			   label="{{ phrase('dbtech_credits_event_extension_include') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_include_explain') }}" />

<xf:textboxrow name="settings[extension_exclude]" value="{$event.settings.extension_exclude}"
			   label="{{ phrase('dbtech_credits_event_extension_exclude') }}"
			   explain="{{ phrase('dbtech_credits_event_extension_exclude_explain') }}" />]]></template>
  <template type="admin" title="dbtech_credits_event_edit_trophy" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:set var="$trophies" value="{{ $xf.app.em.getRepository('XF:Trophy')->findTrophiesForList()->fetch() }}" />

<xf:selectrow name="settings[trophy][]" multiple="true" size="8"
			  value="{{ $event.settings.trophy ? $event.settings.trophy : [] }}"
			  label="{{ phrase('dbtech_credits_event_trophy') }}">

	<xf:foreach loop="$trophies" value="$trophy">
		<xf:option value="{$trophy.trophy_id}">{$trophy.title} ({{ phrase('points:') }} {$trophy.trophy_points})</xf:option>
	</xf:foreach>
</xf:selectrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_view" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_edit_visit" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:checkboxrow>
	<xf:option name="settings[apply_guest]" value="1" selected="$event.settings.apply_guest">{{ phrase('dbtech_credits_event_apply_guest') }}</xf:option>
</xf:checkboxrow>]]></template>
  <template type="admin" title="dbtech_credits_event_list" version_id="905060370" version_string="5.6.3"><![CDATA[<xf:title>{{ phrase('dbtech_credits_events') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('dbtech-credits/events/add') }}" overlay="true" icon="add">{{ phrase('dbtech_credits_add_new_event') }}</xf:button>
</xf:pageaction>

<xf:form action="{{ link('dbtech-credits/events/toggle') }}" class="block" ajax="true">
	<div class="block-outer">
		<xf:macro template="filter_macros" name="quick_filter" arg-key="dbtech-credits/events" arg-class="block-outer-opposite" />
	</div>
	<div class="block-container">
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="h-scroller" role="tablist">
			<span class="hScroller-scroll">
			<xf:foreach loop="$currencies" key="$currencyId" value="$currencyName">
				<a href="{{ link('dbtech-credits/events', null, {'currency_id': $currencyId}) }}"
				   class="tabs-tab {{ $currencyId == $currency ? 'is-active' : '' }}">{$currencyName}</a>
			</xf:foreach>
			</span>
		</h2>
		<div class="block-body">
			<xf:datalist>
				<xf:foreach loop="$events" value="$event">
					<xf:datarow>
						<xf:main hash="{$event.event_id}" href="{{ link('dbtech-credits/events/edit', $event) }}"
								 label="{$event.title}">
							<xf:hint>
								{$event.EventTriggerTitle}
							</xf:hint>
							<xf:explain>
								<ul class="listInline listInline--bullet">
									<li>{$event.main_add}</li>
									<li>{{ $event.charge ? phrase('dbtech_credits_event_charged') : phrase('dbtech_credits_not_charged') }}</li>
									<li>{{ $event.moderate ? phrase('dbtech_credits_event_moderated') : phrase('dbtech_credits_event_not_moderated') }}</li>
								</ul>
							</xf:explain>
						</xf:main>
						<xf:toggle name="active[{$event.event_id}]" selected="$event.active"
								   class="dataList-cell--separated" submit="true"
								   tooltip="{{ phrase('enable_disable_x', {'title': $event.title}) }}" />
						<xf:delete href="{{ link('dbtech-credits/events/delete', $event) }}"
								   tooltip="{{ phrase('delete') }} " />
					</xf:datarow>
				</xf:foreach>
			</xf:datalist>
		</div>
		<div class="block-footer">
			<span class="block-footer-counter">{{ display_totals($events) }}</span>
		</div>
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_helper_user_search_criteria" version_id="905010052" version_string="5.1.0 Release Candidate 2"><![CDATA[<xf:if contentcheck="true">
	<xf:contentcheck>
		<xf:foreach loop="$xf.app.em.getRepository('DBTech\Credits:Currency').findCurrenciesForList()->fetch()" key="$currencyId" value="$currency" if="$currency.active">
			<xf:formrow rowtype="input"
						label="{{ phrase('dbtech_credits_currency_amount_between', {'currency': $currency.title}) }}">

				<div class="inputGroup">
					<xf:numberbox name="criteria[{$currency.column}][start]" value="{$criteria.{$currency.column}.start}" step="any" size="15" readonly="{$readOnly}" />
					<span class="inputGroup-text">-</span>
					<xf:numberbox name="criteria[{$currency.column}][end]" value="{$criteria.{$currency.column}.end}" step="any" size="15" readonly="{$readOnly}" />
				</div>
			</xf:formrow>
		</xf:foreach>
	</xf:contentcheck>
	
	<hr class="formRowSep" />
</xf:if>]]></template>
  <template type="admin" title="dbtech_credits_log_transaction_list" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[<xf:title>{{ phrase('dbtech_credits_transaction_log') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('dbtech-credits/logs/transactions/search') }}" icon="search">{{ phrase('search_logs') }}</xf:button>
</xf:pageaction>

<xf:if is="$entries is not empty">
	<div class="block">
		<div class="block-container">
			<div class="block-body">
				<xf:datalist>
					<xf:foreach loop="$entries" value="$entry">
						<xf:set var="$event" value="{$entry.Event}" />
						<xf:set var="$currency" value="{$entry.Currency}" />
						<xf:datarow rowclass="{{ $entry.transaction_state == 'moderated' ? 'dataList-row--custom' : '' }}{{ ($entry.transaction_state == 'skipped' || $entry.transaction_state == 'skipped_maximum') ? ' dataList-row--disabled' : '' }}{{ ($entry.transaction_state == 'deleted' || $entry.negate) ? ' dataList-row--deleted' : '' }}">
							<xf:main href="{{ link('dbtech-credits/logs/transactions', $entry) }}" overlay="true">
								<xf:label>
									{{ $event.title ?: phrase('dbtech_credits_unknown_event') }}
								</xf:label>
								<xf:hint>
									{$currency.prefix}{{ $entry.amount|number($currency.decimals) }}{$currency.suffix} {$currency.title}
								</xf:hint>
								<xf:explain>
									<ul class="listInline listInline--bullet">
										<li><xf:date time="{$entry.dateline}" data-full-date="true" /></li>
										<li>{{ $entry.TargetUser ? $entry.TargetUser.username : ($entry.SourceUser ? $entry.SourceUser.username : phrase('unknown_user')) }}</li>
										<li>
											<xf:if is="$entry.transaction_state == 'visible'">
												{{ phrase('visible') }}
											<xf:elseif is="$entry.transaction_state == 'moderated'" />
												{{ phrase('awaiting_approval') }}
											<xf:elseif is="$entry.transaction_state == 'skipped'" />
												{{ phrase('dbtech_credits_skipped') }}
											<xf:elseif is="$entry.transaction_state == 'skipped_maximum'" />
												{{ phrase('dbtech_credits_skipped_maximum') }}
											<xf:elseif is="$entry.transaction_state == 'deleted'" />
												{{ phrase('deleted') }}
											</xf:if>
										</li>
									</ul>
								</xf:explain>
							</xf:main>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($entries, $total) }}</span>
			</div>
		</div>
		<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}"
			link="dbtech-credits/logs/transactions" params="{{ {'criteria': $criteria, 'order': $order, 'direction': $direction} }}"
			wrapperclass="block-outer block-outer--after" />
	</div>
<xf:else />
	<div class="blockMessage">{{ $criteria ? phrase('no_records_matched') : phrase('no_entries_have_been_logged') }}</div>
</xf:if>]]></template>
  <template type="admin" title="dbtech_credits_log_transaction_search" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[<xf:title>{{ phrase('dbtech_credits_transaction_log_search') }}</xf:title>

<xf:form action="{{ link('dbtech-credits/logs/transactions') }}" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:numberboxrow name="criteria[transaction_id]" value="{$criteria.transaction_id}" min="0" step="1"
				label="{{ phrase('transaction_id') }}" />

			<xf:textboxrow name="criteria[SourceUser][username]" ac="single" value="{$criteria.SourceUser.username}"
						   label="{{ phrase('dbtech_credits_source_user') }}" />

			<xf:textboxrow name="criteria[TargetUser][username]" ac="single" value="{$criteria.TargetUser.username}"
						   label="{{ phrase('dbtech_credits_target_user') }}" />

			<hr class="formRowSep" />

			<xf:formrow rowtype="input"
				label="{{ phrase('date_range') }}">
				<div class="inputGroup">
					<xf:dateinput name="criteria[dateline][start]" value="{$criteria.dateline.start}" size="15" />
					<span class="inputGroup-text">-</span>
					<xf:dateinput name="criteria[dateline][end]" value="{$criteria.dateline.end}" size="15" />
				</div>
			</xf:formrow>

			<xf:macro template="public:dbtech_credits_event_macros" name="event_trigger_select"
					  arg-inputName="criteria[event_trigger_id]"
					  arg-eventTriggerId="" arg-includeBlank="{{ false }}" arg-includeAny="{{ true }}" />

			<xf:macro template="public:dbtech_credits_event_macros" name="event_select"
					  arg-inputName="criteria[event_id]"
					  arg-eventId="" arg-includeBlank="{{ false }}" arg-includeAny="{{ true }}" />

			<hr class="formRowSep" />

			<xf:checkboxrow name="criteria[transaction_state]" readonly="{$readOnly}"
							label="{{ phrase('dbtech_credits_transaction_state') }}">

				<xf:option value="visible" selected="in_array('visible', $criteria.transaction_state)">{{ phrase('visible') }}</xf:option>
				<xf:option value="moderated" selected="in_array('moderated', $criteria.transaction_state)">{{ phrase('awaiting_moderation') }}</xf:option>
				<xf:option value="skipped" selected="in_array('skipped', $criteria.transaction_state)">{{ phrase('dbtech_credits_skipped') }}</xf:option>
				<xf:option value="skipped_maximum" selected="in_array('skipped_maximum', $criteria.transaction_state)">{{ phrase('dbtech_credits_skipped_maximum') }}</xf:option>
			</xf:checkboxrow>

			<hr class="formRowSep" />

			<xf:formrow rowtype="input"
				label="{{ phrase('sort') }}">

				<div class="inputPair">
					<xf:select name="order">
						<xf:options source="{$sortOrders}" />
					</xf:select>
					<xf:select name="direction" value="desc">
						<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
						<xf:option value="desc">{{ phrase('descending') }}</xf:option>
					</xf:select>
				</div>
			</xf:formrow>
		</div>
		<xf:submitrow sticky="true" icon="search" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="dbtech_credits_log_transaction_view" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[<xf:title>{{ phrase('dbtech_credits_transaction_id_x', {'txnId': $entry.transaction_id}) }}</xf:title>

<div class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:set var="$currency" value="{$entry.Currency}" />

			<xf:formrow label="{{ phrase('dbtech_credits_source_user') }}">
				<a href="{{ link('users/edit', $entry.SourceUser) }}">{$entry.SourceUser.username}</a>
			</xf:formrow>
			<xf:formrow label="{{ phrase('dbtech_credits_target_user') }}">
				<a href="{{ link('users/edit', $entry.TargetUser) }}">{$entry.TargetUser.username}</a>
			</xf:formrow>

			<xf:formrow label="{{ phrase('dbtech_credits_amount') }}">
				{$currency.prefix}{{ $entry.amount|number($currency.decimals) }}{$currency.suffix} {$currency.title}
				<div class="u-muted">
					<xf:if is="$entry.transaction_state == 'visible'">
						{{ phrase('visible') }}
					<xf:elseif is="$entry.transaction_state == 'moderated'" />
						{{ phrase('awaiting_approval') }}
					<xf:elseif is="$entry.transaction_state == 'skipped'" />
						{{ phrase('dbtech_credits_skipped') }}
					<xf:elseif is="$entry.transaction_state == 'skipped_maximum'" />
						{{ phrase('dbtech_credits_skipped_maximum') }}
					<xf:elseif is="$entry.transaction_state == 'deleted'" />
						{{ phrase('deleted') }}
					</xf:if>
				</div>
			</xf:formrow>

			<xf:formrow label="{{ phrase('date') }}">
				<xf:date time="{$entry.dateline}" data-full-date="true" />
			</xf:formrow>
			<xf:formrow label="{{ phrase('dbtech_credits_event') }}">
				<a href="{{ link('dbtech-credits/events/edit', $entry.Event) }}">{$entry.Event.title}</a>
			</xf:formrow>
			<xf:formrow label="{{ phrase('dbtech_credits_eventtrigger') }}">
				{$eventTrigger.getTitle()}
			</xf:formrow>

			<xf:if is="$entry.message">
				<hr class="formRowSep" />

				<xf:formrow label="{{ phrase('dbtech_credits_optional_message') }}">
					{$entry.message}
				</xf:formrow>
			</xf:if>
		</div>
	</div>
</div>]]></template>
  <template type="admin" title="dbtech_credits_option_macros" version_id="905030051" version_string="5.3.0 Release Candidate 1"><![CDATA[<xf:macro name="option_form_block" arg-group="" arg-options="!" arg-containerBeforeHtml="" arg-headers="{{ [] }}">
	<xf:if is="$options is not empty">
		<xf:form action="{{ link('options/update') }}" ajax="true" class="block">
			{$containerBeforeHtml|raw}
			<div class="block-container">
				
				<xf:foreach loop="$headers" value="$header">
					<xf:macro name="option_rows" arg-header="{$header.label}" 
							  arg-group="{$group}" arg-options="{$options}" 
							  arg-minDisplayOrder="{$header.minDisplayOrder}" arg-maxDisplayOrder="{$header.maxDisplayOrder}" />
				</xf:foreach>

				<xf:submitrow sticky="true" icon="save" />
			</div>
		</xf:form>
	</xf:if>
</xf:macro>

<xf:macro name="option_form_block_tabs" arg-group="" arg-options="!" arg-containerBeforeHtml="" arg-headers="{{ [] }}">
	<xf:if is="$options is not empty">
		<xf:form action="{{ link('options/update') }}" ajax="true" class="block">
			{$containerBeforeHtml|raw}
			<div class="block-container">
				<h2 class="block-tabHeader tabs" data-xf-init="tabs" role="tablist">
					<xf:foreach loop="$headers" key="$key" value="$header">
						<a class="tabs-tab{{ $header.active ? ' is-active' : '' }}" role="tab" tabindex="0" aria-controls="{$key}">{$header.label}</a>
					</xf:foreach>
				</h2>
				<ul class="tabPanes">
					<xf:foreach loop="$headers" key="$key" value="$header">
						<li class="{{ $header.active ? 'is-active' : '' }}" role="tabpanel" id="{$key}">
							<xf:macro name="option_rows"
									  arg-group="{$group}" arg-options="{$options}" 
									  arg-minDisplayOrder="{$header.minDisplayOrder}" arg-maxDisplayOrder="{$header.maxDisplayOrder}" />
						</li>
					</xf:foreach>
				</ul>
				<xf:submitrow sticky="true" icon="save" />
			</div>
		</xf:form>
	</xf:if>
</xf:macro>

<xf:macro name="option_rows" arg-header="" arg-group="!" arg-options="!" arg-minDisplayOrder="{{ 0 }}" arg-maxDisplayOrder="!">
	<xf:set var="$hundred" value="0" />

	<xf:if is="$header">
		<h3 class="block-formSectionHeader">{$header}</h3>
	</xf:if>

	<div class="block-body">
		<xf:foreach loop="$options" value="$option">
			<xf:if is="{$option.Relations.{$group.group_id}.display_order} >= $minDisplayOrder AND ({$option.Relations.{$group.group_id}.display_order} < $maxDisplayOrder OR $maxDisplayOrder == -1)">
				<xf:if is="$group">
					<xf:set var="$curHundred" value="{{ floor($option.Relations.{$group.group_id}.display_order / 100) }}" />
					<xf:if is="{{ $curHundred > $hundred }}">
						<xf:set var="$hundred" value="{$curHundred}" />
						<hr class="formRowSep" />
					</xf:if>
				</xf:if>

				<xf:macro template="option_macros" name="option_row"
						  arg-group="{$group}" arg-option="{$option}" />
			</xf:if>
		</xf:foreach>
	</div>
</xf:macro>]]></template>
  <template type="admin" title="dbtech_credits_tools_rebuild" version_id="905070770" version_string="5.7.7"><![CDATA[<xf:set var="$rebuildBody">
	<xf:selectrow name="options[type]"
		label="{{ phrase('content_type') }}">

		<xf:option>{{ phrase('(all)') }}</xf:option>
		<xf:options source="{{ $xf.app.em.getRepository('DBTech\Credits:EventTrigger').getRebuildableEventTriggerPairs() }}" />
	</xf:selectrow>

	<xf:checkboxrow>
		<xf:option name="options[truncate]">
			<xf:label>{{ phrase('dbtech_credits_delete_all_data_before_rebuilding') }}</xf:label>
			
			<xf:dependent>
				<xf:checkbox>
					<xf:option name="options[reset]">{{ phrase('dbtech_credits_also_reset_all_credits') }}</xf:option>
				</xf:checkbox>
			</xf:dependent>
		</xf:option>
	</xf:checkboxrow>

	<xf:numberboxrow name="options[batch]" value="500" min="1"
		label="{{ phrase('items_to_process_per_page') }}" />
</xf:set>
<xf:macro template="tools_rebuild" name="rebuild_job"
	arg-header="DragonByte Credits: {{ phrase('dbtech_credits_rebuild_transactions') }}"
	arg-body="{$rebuildBody}"
	arg-job="DBTech\Credits:TransactionRebuild" />
<!--[XF:after_dbtech_credits_rebuild]-->


<xf:set var="$rebuildBody">
	<xf:inforow>{{ phrase('dbtech_credits_this_will_rebuild_user_balance_based_on_transaction_log') }}</xf:inforow>
</xf:set>
<xf:macro template="tools_rebuild" name="rebuild_job"
		  arg-header="DragonByte Credits: {{ phrase('dbtech_credits_rebuild_balances') }}"
		  arg-body="{$rebuildBody}"
		  arg-job="DBTech\Credits:BalanceRebuild" />
<!--[XF:after_dbtech_credits_rebuild]-->

<xf:if is="$xf.development">
	<xf:macro template="tools_rebuild" name="rebuild_job"
			  arg-header="DragonByte Credits: Daily Credits"
			  arg-job="DBTech\Credits:DailyCredits" />
</xf:if>]]></template>
  <template type="admin" title="dbtech_credits_user_criteria" version_id="905030034" version_string="5.3.0 Beta 4"><![CDATA[<xf:set var="$currencies" value="{$xf.app.em.getRepository('DBTech\Credits:Currency').getCurrencies()}" />

<xf:checkboxrow label="{{ phrase('dbtech_credits_credits_long') }}">
	<xf:foreach loop="$currencies" key="$currencyId" value="$currency">
		<xf:option label="{{ phrase('dbtech_credits_less_than_x_y:', {'param1': $currency.title}) }}" name="user_criteria[dbtech_credits_currency_{$currencyId}_less][rule]" value="dbtech_credits_currency_{$currencyId}_less" selected="{{ $currency.isCriteriaSelected($criteria, 'less') }}">
			<xf:numberbox name="user_criteria[dbtech_credits_currency_{$currencyId}_less][data][amount]" value="{{ $currency.getCriteriaValue($criteria, 'less') }}" step="any" />
		</xf:option>
		
		<xf:option label="{{ phrase('dbtech_credits_more_than_x_y:', {'param1': $currency.title}) }}" name="user_criteria[dbtech_credits_currency_{$currencyId}_more][rule]" value="dbtech_credits_currency_{$currencyId}_more" selected="{{ $currency.isCriteriaSelected($criteria, 'more') }}">
			<xf:numberbox name="user_criteria[dbtech_credits_currency_{$currencyId}_more][data][amount]" value="{{ $currency.getCriteriaValue($criteria, 'more') }}" step="any" />
		</xf:option>
	</xf:foreach>
</xf:checkboxrow>

<hr class="formRowSep" />]]></template>
  <template type="admin" title="dbtech_credits_user_edit_pane" version_id="905030034" version_string="5.3.0 Beta 4"><![CDATA[<xf:set var="$currencies" value="{$xf.app.em.getRepository('DBTech\Credits:Currency').getCurrencies()}" />

<li role="tabpanel" id="dbtech-credits">
	<div class="block-body">
		<xf:foreach loop="$currencies" value="$currency">
			<xf:numberboxrow label="{$currency.title}" name="credits[{$currency.currency_id}]" value="{{ $user.getDbtechCreditsCurrency($currency) }}" step="any" />
		</xf:foreach>
	</div>
</li>]]></template>
  <template type="admin" title="dbtech_credits_user_edit_tab" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<a class="tabs-tab" role="tab" tabindex="0" aria-controls="dbtech-credits">{{ phrase('dbtech_credits_credits_long') }}</a>]]></template>
  <template type="admin" title="option_template_dbtech_credits_eventtrigger_purchase_currency" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:formrow name="{$inputName}" value="{$option.option_value}"
	label="{$option.title}"
	hint="{$hintHtml}"
	explain="{$explainHtml}"
	html="{$listedHtml}">

	<xf:macro template="public:currency_macros" name="currency_list"
			  arg-name="{$inputName}"
			  arg-value="{{ {$option.option_value} ?: 'USD' }}" />
</xf:formrow>]]></template>
  <template type="admin" title="option_template_dbtech_credits_navbar" version_id="905030033" version_string="5.3.0 Beta 3"><![CDATA[<xf:set var="$editHtml"><xf:trim>
	<xf:if is="$option.canEdit()">
		<xf:macro template="option_macros" name="option_edit_link" arg-group="{$group}" arg-option="{$option}" />
	</xf:if>
</xf:trim></xf:set>

<xf:radiorow label="{$option.title}" hint="{$editHtml}" name="{$inputName}[enabled]">
	<xf:explain>{$explainHtml}</xf:explain>

	<xf:option label="{{ phrase('disabled') }}" value="0" selected="$option.option_value.enabled == '0'" />

	<xf:option label="{{ phrase('default') }}" value="1" selected="$option.option_value.enabled == '1'">
		<xf:hint>{{ phrase('dbtech_credits_enable_navbar_default_explain') }}</xf:hint>
	</xf:option>

	<xf:option label="{{ phrase('right') }}" value="2" selected="$option.option_value.enabled == '2'">
		<xf:hint>{{ phrase('dbtech_credits_enable_navbar_right_explain') }}</xf:hint>
		<xf:radio name="{$inputName}[right_position]" value="{{ $option.option_value.right_position ? $option.option_value.right_position : 'end' }}">
			<xf:option label="{{ phrase('dbtech_credits_navbar_right_start') }}" value="start" />
			<xf:option label="{{ phrase('dbtech_credits_navbar_right_middle') }}" value="middle" />
			<xf:option label="{{ phrase('dbtech_credits_navbar_right_end') }}" value="end" />
		</xf:radio>
		<xf:checkbox>
			<xf:option name="{$inputName}[right_text]" value="1" selected="$option.option_value.right_text">
				{{ phrase('dbtech_credits_enable_navbar_text') }}
			</xf:option>
		</xf:checkbox>
	</xf:option>

	<xf:option label="{{ phrase('dbtech_credits_integrated_shop') }}" value="3" selected="$option.option_value.enabled == '3'" hint="{{ phrase('dbtech_credits_enable_navbar_integrated_shop_explain') }}" />

	<xf:html>{$listedHtml}</xf:html>
</xf:radiorow>]]></template>
  <template type="admin" title="payment_profile_dbtech_credits" version_id="905050031" version_string="5.5.0 Beta 1"><![CDATA[<xf:selectrow label="{{ phrase('dbtech_credits_currency') }}" name="options[currency_id]" value="{{ $profile.options.currency_id ?: '' }}">
	<xf:option value="">&nbsp;</xf:option>
	<xf:options source="$currencies" />
</xf:selectrow>

<xf:numberboxrow label="{{ phrase('dbtech_credits_exchange_rate') }}" name="options[exchange_rate]" value="{{ $profile.options.exchange_rate ?: 1 }}" min="0" step="any">
	<xf:explain>{{ phrase('dbtech_credits_exchange_rate_explain') }}</xf:explain>
</xf:numberboxrow>]]></template>
  <template type="admin" title="widget_def_options_dbtech_credits_richest" version_id="905080070" version_string="5.8.0"><![CDATA[<hr class="formRowSep" />

<xf:numberboxrow label="{{ phrase('dbtech_credits_users_limit') }}" name="options[limit]" value="{$options.limit}" min="0" step="1">
	<xf:explain>{{ phrase('dbtech_credits_users_limit_explain') }}</xf:explain>
</xf:numberboxrow>

<xf:checkboxrow>
	<xf:option name="options[showAmounts]" value="1" selected="$options.showAmounts" hint="{{ phrase('dbtech_credits_show_amounts_explain') }}">{{ phrase('dbtech_credits_show_amounts') }}</xf:option>
</xf:checkboxrow>

<xf:selectrow label="{{ phrase('dbtech_credits_currency_limit') }}" name="options[currencyIds][]" value="{{ $options.currencyIds ?: '' }}" multiple="multiple" size="7">
	<xf:option value="">{{ phrase('dbtech_credits_all_currencies') }}</xf:option>

	<xf:options source="$currencies" />

	<xf:explain>{{ phrase('dbtech_credits_only_include_selected_currencies') }}</xf:explain>
</xf:selectrow>]]></template>
  <template type="admin" title="widget_def_options_dbtech_credits_wallet" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<hr class="formRowSep" />

<xf:selectrow label="{{ phrase('dbtech_credits_currency_limit') }}" name="options[currencyIds][]" value="{{ $options.currencyIds ?: '' }}" multiple="multiple" size="7">
	<xf:option value="">{{ phrase('dbtech_credits_all_currencies') }}</xf:option>

	<xf:options source="$currencies" />

	<xf:explain>{{ phrase('dbtech_credits_only_include_selected_currencies') }}</xf:explain>
</xf:selectrow>]]></template>
  <template type="email" title="payment_received_receipt_dbtech_credits_currency" version_id="905000038" version_string="5.0.0 Beta 8"><![CDATA[<mail:subject>{{ phrase('dbtech_credits_receipt_for_your_currency_purchase_at_x', {'board_title': $xf.options.boardTitle}) }}</mail:subject>

<p>{{ phrase('dbtech_credits_thank_you_for_purchasing_currency_at_x', {'board_url': link('canonical:index'), 'board_title': $xf.options.boardTitle}) }}</p>

<table border="0" width="100%" cellpadding="0" cellspacing="0">
<tr>
	<td><b>{{ phrase('purchased_item') }}</b></td>
	<td align="right"><b>{{ phrase('price') }}</b></td>
</tr>
<tr>
	<td>{$purchasable.title}</td>
	<td align="right">{{ $purchasable.purchasable.getCostPhrase() }}</td>
</tr>
</table>

<xf:if is="$xf.toUser.canUseContactForm()">
	<p>{{ phrase('thank_you_for_your_purchase_questions_contact_us', {'contacturl': link('canonical:misc/contact') }) }}</p>
<xf:else />
	<p>{{ phrase('thank_you_for_your_purchase') }}</p>
</xf:if>]]></template>
  <template type="public" title="alert_dbtech_credits_txn" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{$phrase|raw}]]></template>
  <template type="public" title="alert_dbtech_credits_txn_adjust" version_id="905070070" version_string="5.7.0"><![CDATA[<xf:if is="$content.source_user_id == $content.user_id">
	<xf:if is="$content.amount < 0">
		{{ phrase('dbtech_credits_removed_x_y_via_adjust', {
			'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
		}) }}
	<xf:else />
		{{ phrase('dbtech_credits_added_x_y_via_adjust', {
			'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
		}) }}
	</xf:if>
<xf:else />	
	<xf:if is="$content.amount < 0">
		{{ phrase('dbtech_credits_x_took_y_z_via_adjust', {
			'source': username_link($content.SourceUser, false, {'defaultname': 'N/A'}),
			'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
		}) }}
	<xf:else />
		{{ phrase('dbtech_credits_x_gave_y_z_via_adjust', {
			'source': username_link($content.SourceUser, false, {'defaultname': 'N/A'}),
			'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
		}) }}
	</xf:if>
</xf:if>
<xf:if is="$content.message">{{ phrase('message:') }} {$content.message}</xf:if>]]></template>
  <template type="public" title="alert_dbtech_credits_txn_donate" version_id="905060270" version_string="5.6.2"><![CDATA[<xf:if is="$content.amount < 0">
	{{ phrase('dbtech_credits_donated_y_z_to_x_via_donate', {
		'recipient': username_link($user, false, {'defaultname': 'N/A'}),
		'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
	}) }}
<xf:else />
	{{ phrase('dbtech_credits_x_donated_y_z_to_you_via_donate', {
		'source': username_link($user, false, {'defaultname': 'N/A'}),
		'currency': '<a href="' . link('dbtech-credits/currency', $content.Currency) . '" class="fauxBlockLink-blockLink" data-xf-click="overlay">' . $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title . '</a>'
	}) }}
</xf:if>
<xf:if is="$content.message">{{ phrase('message:') }} {$content.message}</xf:if>]]></template>
  <template type="public" title="alert_user_dbt_credits_txn_approve" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{{ phrase('dbtech_credits_your_transaction_x_was_approved', {
	'title': $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="alert_user_dbt_credits_txn_reject" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{{ phrase('dbtech_credits_your_transaction_x_was_rejected', {
	'title': $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="approval_item_dbtech_credits_txn" version_id="905030053" version_string="5.3.0 Release Candidate 3"><![CDATA[<xf:set var="$messageHtml"><xf:trim>
	<xf:set var="$currency" value="{$content.Currency}" />

	<dl class="pairs pairs--columns pairs--fluidSmall">
		<dt>{{ phrase('dbtech_credits_source_user') }}</dt>
		<dd><xf:username user="{$content.SourceUser}" defaultname="{{ phrase('unknown_user') }}" /></dd>
	</dl>
	<dl class="pairs pairs--columns pairs--fluidSmall">
		<dt>{{ phrase('dbtech_credits_target_user') }}</dt>
		<dd><xf:username user="{$content.TargetUser}" defaultname="{{ phrase('unknown_user') }}" /></dd>
	</dl>
	<dl class="pairs pairs--columns pairs--fluidSmall">
		<dt>{{ phrase('dbtech_credits_amount') }}</dt>
		<dd>{$currency.prefix}{{ $content.amount|number($currency.decimals) }}{$currency.suffix} {$currency.title}</dd>
	</dl>

	<xf:if is="$content.message">
		<dl class="pairs pairs--columns pairs--fluidSmall">
			<dt>{{ phrase('dbtech_credits_optional_message') }}</dt>
			<dd>{$content.message}</dd>
		</dl>
	</xf:if>
</xf:trim></xf:set>

<xf:set var="$headerPhraseHtml"><xf:trim>
	{{ phrase('dbtech_credits_event_x_in_event_trigger_y', {
		'title': $content.Event.title,
		'eventTrigger': $eventTrigger.getTitle()
	}) }}
</xf:trim></xf:set>

<xf:set var="$actionsHtml">
	
	<xf:radio name="queue[{$unapprovedItem.content_type}][{$unapprovedItem.content_id}]">

		<xf:option value="" checked="checked" label="{{ phrase('do_nothing') }}" data-xf-click="approval-control" />
		<xf:option value="approve" label="{{ phrase('approve') }}" data-xf-click="approval-control" />
		<xf:option value="reject" label="{{ phrase('reject_with_reason:') }}"
				   title="{{ phrase('dbtech_credits_rejected_transactions_deleted') }}"
				   data-xf-init="tooltip"
				   data-xf-click="approval-control">
			<xf:textbox name="reason[{$unapprovedItem.content_type}][{$unapprovedItem.content_id}]"
						placeholder="{{ phrase('optional') }}" />
			<xf:html>
				<div class="formRow-explain"></div>
			</xf:html>
		</xf:option>
	</xf:radio>

	<xf:checkbox>
		<xf:option name="notify[{$unapprovedItem.content_type}][{$unapprovedItem.content_id}]" value="1" checked="true">
			{{ phrase('notify_user_if_action_was_taken') }}
		</xf:option>
	</xf:checkbox>

</xf:set>

<xf:macro template="approval_queue_macros" name="item_message_type"
		  arg-content="{$content}"
		  arg-contentDate="{$content.dateline}"
		  arg-user="{$content.TargetUser}"
		  arg-messageHtml="{$messageHtml}"
		  arg-typePhraseHtml="{{ phrase('dbtech_credits_transaction') }}"
		  arg-actionsHtml="{$actionsHtml}"
		  arg-spamDetails="{$spamDetails}"
		  arg-unapprovedItem="{$unapprovedItem}"
		  arg-headerPhraseHtml="{$headerPhraseHtml}" />]]></template>
  <template type="public" title="dbtech_credits_app_nav.less" version_id="905070031" version_string="5.7.0 Beta 1"><![CDATA[.p-navgroup-link
{
	&.p-navgroup-link--dbtech-credits i:after
	{
		.m-faBase();
		display: inline-block;
		min-width: 1.4em;
		.m-faContent(@fa-var-money-bill-alt, .88em);
		
		<xf:set var="$addOnId">ThemeHouse/UIX</xf:set>
		<xf:if is="{$xf.addOns.{$addOnId}}">
			<xf:macro template="uix_icons.less" name="content" arg-icon="payment" />
		</xf:if>
	}
}]]></template>
  <template type="public" title="dbtech_credits_charge_search_results" version_id="905030370" version_string="5.3.3"><![CDATA[<xf:title page="{$page}">{{ phrase('dbtech_credits_unlocked_content') }}</xf:title>

<xf:css src="search_results.less" />

<xf:head option="robots"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<div class="block-container">
		<ol class="block-body">
			<xf:foreach loop="$results" value="$result">
				{{ $result.render()|raw }}
			</xf:foreach>
		</ol>
		<xf:if is="{$getOlderResultsDate}">
			<div class="block-footer">
				<span class="block-footer-controls"><xf:button href="{{ link('dbtech-credits/charge/unlocked/older', null, {'before': $getOlderResultsDate}) }}" class="button--link">
					{{ phrase('view_older_results') }}
				</xf:button></span>
			</div>
		</xf:if>
	</div>

	<div class="block-outer block-outer--after">
		<xf:pagenav
				page="{$page}" perpage="{$perPage}" total="{$total}"
				link="dbtech-credits/charge/unlocked"
				wrapperclass="block-outer-main" />
		<xf:showignored wrapperclass="block-outer-opposite" />
	</div>
</div>]]></template>
  <template type="public" title="dbtech_credits_currency" version_id="905080070" version_string="5.8.0"><![CDATA[<xf:title>{$currency.title}</xf:title>

<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<div class="block-container">
		<xf:if is="$currency.description is not empty">
			<div class="block-row">
				{{ bb_code($currency.description, 'dbtech_credits_currency', $currency.description) }}
			</div>
		</xf:if>
		<h2 class="block-tabHeader tabs hScroller" data-xf-init="h-scroller tabs" role="tablist">
			<span class="hScroller-scroll">
				<xf:if is="!$tab"><a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="{{ unique_id('richest') }}">{{ phrase('dbtech_credits_richest_users') }}</a></xf:if>
				<xf:if is="$eventTriggers.donate"><a class="tabs-tab {{ $tab == 'donate' ? 'is-active' : '' }}" role="tab" tabindex="0" aria-controls="{{ unique_id('donate') }}">{{ phrase('dbtech_credits_donate') }}</a></xf:if>
				<xf:if is="$eventTriggers.adjust"><a class="tabs-tab {{ $tab == 'adjust' ? 'is-active' : '' }}" role="tab" tabindex="0" aria-controls="{{ unique_id('adjust') }}">{{ phrase('dbtech_credits_adjust') }}</a></xf:if>
				<xf:if is="$eventTriggers.purchase"><a class="tabs-tab {{ $tab == 'purchase' ? 'is-active' : '' }}" role="tab" tabindex="0" aria-controls="{{ unique_id('purchase') }}">{{ phrase('dbtech_credits_purchase') }}</a></xf:if>
				<xf:if is="$eventTriggers.redeem"><a class="tabs-tab {{ $tab == 'redeem' ? 'is-active' : '' }}" role="tab" tabindex="0" aria-controls="{{ unique_id('redeem') }}">{{ phrase('dbtech_credits_redeem') }}</a></xf:if>
				<xf:if is="$eventTriggers.transfer"><a class="tabs-tab {{ $tab == 'transfer' ? 'is-active' : '' }}" role="tab" tabindex="0" aria-controls="{{ unique_id('transfer') }}">{{ phrase('dbtech_credits_transfer') }}</a></xf:if>
			</span>
		</h2>

		<ul class="tabPanes">

			<xf:if is="!$tab">
				<li class="is-active"
					role="tabpanel"
					id="{{ unique_id('richest') }}">

					<div class="block-body block-row">
						<xf:macro name="dbtech_credits_currency_macros::richest"
								  arg-currency="{$currency}"
								  arg-showAmounts="{$currency.show_amounts}" />
					</div>
				</li>
			</xf:if>

			<xf:if is="$eventTriggers.donate">
				<li class="{{ $tab == 'donate' ? 'is-active' : '' }}"
					role="tabpanel"
					id="{{ unique_id('donate') }}">

					<xf:form class="block" action="{{ link('dbtech-credits/currency/donate', $currency) }}" ajax="true" data-redirect="off" data-reset-complete="true">
						<xf:textboxrow name="username" value="{{ $user ? $user.username : ''}}" ac="single"
									   placeholder="{{ phrase('dbtech_credits_user_to_donate_to...') }}"
									   label="{{ phrase('user_name') }}" />

						<xf:numberboxrow name="amount" min="0" step="any"
										 placeholder="{{ phrase('dbtech_credits_amount_to_donate', {'param1': $currency.useramount}) }}"
										 label="{{ phrase('dbtech_credits_amount') }}"
										 explain="{{ phrase('dbtech_credits_donate_amount_descr') }}" />

						<xf:textarearow label="{{ phrase('message') }}"
							name="message"
							placeholder="{{ phrase('dbtech_credits_optional_message') }}"
							autosize="true" />

						<xf:hiddenval name="currency_id">{$currency.currency_id}</xf:hiddenval>

						<xf:submitrow icon="money" submit="{{ phrase('dbtech_credits_donate') }}" />
					</xf:form>
				</li>
			</xf:if>

			<xf:if is="$eventTriggers.adjust">
				<li class="{{ $tab == 'adjust' ? 'is-active' : '' }}"
					role="tabpanel"
					id="{{ unique_id('adjust') }}">

					<xf:form class="block" action="{{ link('dbtech-credits/currency/adjust', $currency) }}" ajax="true" data-redirect="off" data-reset-complete="true">
						<xf:textboxrow label="{{ phrase('user_name') }}" ac="single" name="username" placeholder="{{ phrase('dbtech_credits_user_to_adjust...') }}" value="{{ $user ? $user.username : ''}}" />

						<xf:numberboxrow name="amount" min="0" step="any"
										 placeholder="{{ phrase('dbtech_credits_amount') }}"
										 label="{{ phrase('dbtech_credits_amount') }}"
										 explain="{{ phrase('dbtech_credits_adjust_amount_descr') }}" />

						<xf:radiorow label="{{ phrase('action') }}" name="negate">
							<xf:option value="0" label="{{ phrase('dbtech_credits_give') }}" checked="checked" />
							<xf:option value="1" label="{{ phrase('dbtech_credits_take') }}" />
						</xf:radiorow>

						<xf:textarearow label="{{ phrase('message') }}"
							name="message"
							placeholder="{{ phrase('dbtech_credits_optional_message') }}"
							autosize="true" />

						<xf:submitrow icon="money" submit="{{ phrase('dbtech_credits_adjust') }}" />

						<xf:hiddenval name="currency_id">{$currency.currency_id}</xf:hiddenval>
					</xf:form>
				</li>
			</xf:if>

			<xf:if is="$eventTriggers.purchase">
				<li class="{{ $tab == 'purchase' ? 'is-active' : '' }}"
					role="tabpanel"
					id="{{ unique_id('purchase') }}">

					<ul class="block-body listPlain">
						<xf:foreach loop="$events" value="$event" if="{$event.event_trigger_id} == 'purchase'">
							<xf:macro
									  template="dbtech_credits_currency_macros"
									  name="purchase_option"
									  arg-event="{$event}"
									  arg-profiles="{$profiles}"
									  arg-currency="{$currency}" />
						</xf:foreach>
					</ul>
				</li>
			</xf:if>

			<xf:if is="$eventTriggers.redeem">
				<li class="{{ $tab == 'redeem' ? 'is-active' : '' }}"
					role="tabpanel"
					id="{{ unique_id('redeem') }}">

					<xf:form class="block" action="{{ link('dbtech-credits/currency/redeem', $currency) }}" ajax="true" data-redirect="off" data-reset-complete="true">
						<xf:textboxrow name="code" placeholder="{{ phrase('dbtech_credits_code') }}"
									   label="{{ phrase('dbtech_credits_redemption_code') }}" />

						<xf:submitrow icon="money" submit="{{ phrase('dbtech_credits_redeem') }}" />

						<xf:hiddenval name="currency_id">{$currency.currency_id}</xf:hiddenval>
					</xf:form>
				</li>
			</xf:if>

			<xf:if is="$eventTriggers.transfer && $transferCurrencies is not empty">
				<li class="{{ $tab == 'transfer' ? 'is-active' : '' }}"
					role="tabpanel"
					id="{{ unique_id('transfer') }}"
				>
					<xf:form class="block" action="{{ link('dbtech-credits/currency/transfer', $currency) }}" ajax="true" data-redirect="off" data-reset-complete="true">
						<xf:selectrow label="{{ phrase('dbtech_credits_to_currency') }}" name="to_currency_id">
							<xf:option />
							<xf:foreach loop="$transferCurrencies" value="$transferCurrency">
								<xf:option value="{$transferCurrency.currency_id}" label="{$transferCurrency.title}" />
							</xf:foreach>
						</xf:selectrow>

						<xf:numberboxrow name="amount" min="0" step="any"
										 placeholder="{{ phrase('dbtech_credits_amount_to_transfer') }}"
										 label="{{ phrase('dbtech_credits_amount') }}"
										 explain="{{ phrase('dbtech_credits_transfer_amount_descr') }}" />

						<xf:submitrow icon="money" submit="{{ phrase('dbtech_credits_transfer') }}" />

						<xf:hiddenval name="currency_id">{$currency.currency_id}</xf:hiddenval>
					</xf:form>
				</li>
			</xf:if>
		</ul>
	</div>
</div>]]></template>
  <template type="public" title="dbtech_credits_currency_gift" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:title>{$event.title}</xf:title>

<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<div class="block-container">
		<ul class="block-body listPlain">
			<xf:macro template="dbtech_credits_currency_macros"
					  name="purchase_option"
					  arg-event="{$event}"
					  arg-profiles="{$profiles}"
					  arg-currency="{$currency}"
					  arg-isGift="{{ true }}" />
		</ul>
	</div>
</div>]]></template>
  <template type="public" title="dbtech_credits_currency_macros" version_id="905080070" version_string="5.8.0"><![CDATA[<xf:macro name="wallet" arg-currency="!" arg-overlay="{{ true }}">
	<dl class="pairs pairs--justified">
		<dt>{{ $currency.title }}</dt>
		<dd>
			<xf:if is="$overlay">
				<a href="{{ link('dbtech-credits/currency', $currency) }}" data-xf-click="overlay">{$currency.prefix}{{ $currency.getValueFromUser($xf.visitor) }}{$currency.suffix}</a>
			<xf:else />
				{$currency.prefix}{{ $currency.getValueFromUser($xf.visitor) }}{$currency.suffix}
			</xf:if>
		</dd>
	</dl>
</xf:macro>

<xf:macro name="richest" arg-currency="!" arg-limit="5" arg-showAmounts="{{ true }}">
	<h3 class="block-row block-textHeader block-textHeader--scaled">{{ phrase('dbtech_credits_most_x', {'param1': $currency.title}) }}</h3>
	<xf:foreach loop="$currency.getRichestUsers($limit)" value="$user">
		<xf:macro name="richest_user" arg-user="{$user}" arg-currency="{$currency}" arg-showAmounts="{$showAmounts}" />
	</xf:foreach>
</xf:macro>

<xf:macro name="richest_user" arg-user="!" arg-currency="!" arg-overlay="{{ true }}" arg-showAmounts="{{ true }}">
	<div class="block-row">
		<div class="contentRow">
			<div class="contentRow-figure">
				<xf:if is="$xf.visitor.isIgnoring($user.user_id)">
					<xf:avatar user="{{ null }}" size="xxs" />
				<xf:else />
					<xf:avatar user="{$user}" size="xxs" />
				</xf:if>
			</div>
			<div class="contentRow-main contentRow-main--close">
				<div class="{{ $showAmounts ? 'contentRow-lesser' : ''}}">
					<xf:if is="$xf.visitor.isIgnoring($user.user_id)">
						{{ phrase('ignored_member') }}
					<xf:else />
						<xf:username user="{$user}" rich="true" />
					</xf:if>
				</div>

				<xf:if is="$showAmounts">
					<xf:if is="$overlay">
						<a href="{{ link('dbtech-credits/currency', $currency, {'user_id': $user.user_id}) }}" data-xf-click="overlay">{$currency.prefix}{{ $currency.getValueFromUser($user, true) }}{$currency.suffix} {{ $currency.title }}</a>
					<xf:else />
						{$currency.prefix}{{ $currency.getValueFromUser($user) }}{$currency.suffix} {{ $currency.title }}
					</xf:if>
				</xf:if>
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="purchase_option" arg-event="!" arg-profiles="!" arg-currency="!" arg-isGift="{{ false }}">
	<li>
		<div data-xf-init="payment-provider-container">
			<xf:form action="{{ link('purchase', {'purchasable_type_id': 'dbtech_credits_currency'}, {'event_id': $event.event_id, 'is_gift': $isGift}) }}" ajax="true">
				<xf:set var="$currencyData" value="{{ $xf.app.data('XF:Currency') }}" />

				<xf:if is="$isGift">
					<xf:textboxrow name="recipient" ac="single" placeholder="{{ phrase('user_name') }}"
								   label="{{ phrase('recipient') }}" />
				</xf:if>

				<xf:formrow label="{$event.settings.purchase_amount} {$currency.title}"
							explain="{{ bb_code($event.settings.purchase_description, 'dbtech_credits_purchase', $event) }}"
							hint="{$event.cost_phrase}"
							rowtype="input">

					<div class="inputGroup">

						<xf:if is="{{ count($event.settings.payment_profile_ids) > 1 }}">
							<xf:select name="payment_profile_id">
								<xf:option>{{ phrase('(choose_payment_method)') }}</xf:option>
								<xf:foreach loop="$event.settings.payment_profile_ids" value="$profileId">
									<xf:option value="{$profileId}" label="{$profiles.{$profileId}}" />
								</xf:foreach>
							</xf:select>

							<span class="inputGroup-splitter"></span>

							<xf:if is="$isGift">
								<xf:button type="submit" icon="purchase">{{ phrase('dbtech_credits_gift') }}</xf:button>
							<xf:else />
								<xf:button type="submit" icon="purchase" />
								&nbsp;
								<xf:button href="{{ link('dbtech-credits/currency/gift-purchase', $currency, {'event_id': $event.event_id}) }}" icon="gift" overlay="true">{{ phrase('dbtech_credits_gift') }}</xf:button>
							</xf:if>
						<xf:else />
							<xf:if is="$isGift">
								<xf:button type="submit" icon="purchase">{{ phrase('dbtech_credits_gift') }}</xf:button>
							<xf:else />
								<xf:button type="submit" icon="purchase" />
								&nbsp;
								<xf:button href="{{ link('dbtech-credits/currency/gift-purchase', $currency, {'event_id': $event.event_id}) }}" icon="gift" overlay="true">{{ phrase('dbtech_credits_gift') }}</xf:button>
							</xf:if>

							<xf:hiddenval name="payment_profile_id">{$event.settings.payment_profile_ids|first}</xf:hiddenval>
						</xf:if>
					</div>
				</xf:formrow>
			</xf:form>
			<div class="js-paymentProviderReply-dbtech_credits_currency{$event.event_id}"></div>
		</div>
	</li>
</xf:macro>

<xf:macro name="currency_select" arg-currencyId="!" arg-row="{{ true }}" arg-class="" arg-currencies="{{ null }}" arg-includeBlank="{{ true }}" arg-includeAny="{{ false }}" arg-includeNone="{{ false }}" arg-inputName="{{ 'currency_id' }}" arg-phrase="{{ phrase('dbtech_credits_currency') }}">
	<xf:if is="$currencies is empty">
		<xf:set var="$currencies" value="{{ $xf.app.em.getRepository('DBTech\Credits:Currency')->getCurrencyTitlePairs() }}" />
	</xf:if>

	<xf:set var="$select">
		<xf:select name="{$inputName}" value="{$currencyId}" class="{$class}">
			<xf:if is="$includeBlank">
				<xf:option value=""></xf:option>
			</xf:if>
			<xf:if is="$includeAny">
				<xf:option value="_any">{{ phrase('(any)') }}</xf:option>
			</xf:if>
			<xf:if is="$includeNone">
				<xf:option>{{ phrase('(none)') }}</xf:option>
			</xf:if>

			<xf:options source="$currencies" />
		</xf:select>
	</xf:set>
	<xf:if is="$row">
		<xf:formrow rowtype="input"
					label="{$phrase}">

			{$select|raw}
		</xf:formrow>
		<xf:else />
		{$select|raw}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="dbtech_credits_currency_unlock" version_id="905030370" version_string="5.3.3"><![CDATA[<xf:title>{{ phrase('confirm_action') }}</xf:title>

<xf:form action="{{ link('dbtech-credits/currency/buy-content', $currency, {'content_type': $charge.content_type, 'content_id': $charge.content_id, 'content_hash': $charge.content_hash}) }}" class="block" ajax="true">

	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				{{ phrase('dbtech_credits_are_you_sure_view_for_x_y', {'param1': $currency.getFormattedValue($charge.cost), 'param2': $currency.title}) }}
			</xf:inforow>
		</div>

		<xf:submitrow rowtype="simple" icon="purchase" />
	</div>
</xf:form>]]></template>
  <template type="public" title="dbtech_credits_editor_dialog_charge" version_id="905010051" version_string="5.1.0 Release Candidate 1"><![CDATA[<xf:title>{{ phrase('dbtech_credits_charge_for_content') }}</xf:title>

<form class="block" id="editor_dbtech_credits_charge_form">
	<div class="block-container">
		<div class="block-body">
			<xf:numberboxrow id="editor_dbtech_credits_charge_title" min="0" step="any"
				label="{{ phrase('dbtech_credits_enter_charge_amount') }}"
				explain="{{ phrase('dbtech_credits_enter_charge_amount_explain', {'currency': $currency.title}) }}" />
		</div>
		<xf:submitrow submit="{{ phrase('continue') }}" id="editor_dbtech_credits_charge_submit" />
	</div>
</form>]]></template>
  <template type="public" title="dbtech_credits_event_macros" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:macro name="event_select" arg-eventId="!" arg-row="{{ true }}" arg-class="" arg-events="{{ null }}" arg-includeBlank="{{ true }}" arg-includeAny="{{ false }}" arg-includeNone="{{ false }}" arg-inputName="{{ 'event_id' }}" arg-phrase="{{ phrase('dbtech_credits_event') }}">
	<xf:if is="$events is empty">
		<xf:set var="$events" value="{{ $xf.app.em.getRepository('DBTech\Credits:EventTrigger')->getEventTitlePairs() }}" />
	</xf:if>

	<xf:set var="$select">
		<xf:select name="{$inputName}" value="{$eventId}" class="{$class}">
			<xf:if is="$includeBlank">
				<xf:option value=""></xf:option>
			</xf:if>
			<xf:if is="$includeAny">
				<xf:option value="_any">{{ phrase('(any)') }}</xf:option>
			</xf:if>
			<xf:if is="$includeNone">
				<xf:option>{{ phrase('(none)') }}</xf:option>
			</xf:if>

			<xf:options source="$events" />
		</xf:select>
	</xf:set>
	<xf:if is="$row">
		<xf:formrow rowtype="input"
					label="{$phrase}">

			{$select|raw}
		</xf:formrow>
	<xf:else />
		{$select|raw}
	</xf:if>
</xf:macro>

<xf:macro name="event_trigger_select" arg-eventTriggerId="!" arg-row="{{ true }}" arg-class="" arg-eventTriggers="{{ null }}" arg-includeBlank="{{ true }}" arg-includeAny="{{ false }}" arg-includeNone="{{ false }}" arg-inputName="{{ 'event_trigger_id' }}" arg-phrase="{{ phrase('dbtech_credits_eventtrigger') }}">
	<xf:if is="$eventTriggers is empty">
		<xf:set var="$eventTriggers" value="{{ $xf.app.em.getRepository('DBTech\Credits:EventTrigger')->getEventTriggerTitlePairs(true, true) }}" />
	</xf:if>

	<xf:set var="$select">
		<xf:select name="{$inputName}" value="{$eventTriggerId}" class="{$class}">
			<xf:if is="$includeBlank">
				<xf:option value=""></xf:option>
			</xf:if>
			<xf:if is="$includeAny">
				<xf:option value="_any">{{ phrase('(any)') }}</xf:option>
			</xf:if>
			<xf:if is="$includeNone">
				<xf:option>{{ phrase('(none)') }}</xf:option>
			</xf:if>

			<xf:options source="$eventTriggers" />
		</xf:select>
	</xf:set>
	<xf:if is="$row">
		<xf:formrow rowtype="input"
					label="{$phrase}">

			{$select|raw}
		</xf:formrow>
	<xf:else />
		{$select|raw}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="dbtech_credits_filters" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:form action="{{ link('dbtech-credits', '', {'action': 'filters'}) }}">
	<!--[Credits:above_target]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('dbtech_credits_target_user:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="target" value="{{ $targetFilter ? $targetFilter.username : '' }}" ac="single" />
		</div>
	</div>

	<!--[Credits:above_source]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('dbtech_credits_source_user:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="source" value="{{ $sourceFilter ? $sourceFilter.username : '' }}" ac="single" />
		</div>
	</div>

	<!--[Credits:above_currency]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('dbtech_credits_currency:') }}
		<div class="u-inputSpacer">
			<xf:select name="currency_id" value="{{ $filters.currency_id ?: '' }}">
				<xf:option />
				<xf:options source="{$currencyFilter}" />
			</xf:select>
		</div>
	</div>

	<!--[Credits:above_event]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('dbtech_credits_event:') }}
		<div class="u-inputSpacer">
			<xf:select name="event_id" value="{{ $filters.event_id ?: '' }}">
				<xf:option />
				<xf:options source="{$eventFilter}" />
			</xf:select>
		</div>
	</div>

	<!--[Credits:above_event_trigger]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('dbtech_credits_eventtrigger:') }}
		<div class="u-inputSpacer">
			<xf:select name="event_trigger_id" value="{{ $filters.event_trigger_id ?: '' }}">
				<xf:option />
				<xf:options source="{$eventTriggerFilter}" />
			</xf:select>
		</div>
	</div>

	<!--[Credits:above_sort_by]-->
	<div class="menu-row menu-row--separated">
		{{ phrase('sort_by:') }}
		<div class="inputGroup u-inputSpacer">
			<xf:select name="order" value="{{ $filters.order ?: 'dateline' }}">
				<xf:option value="dateline">{{ phrase('date') }}</xf:option>
				<xf:option value="amount">{{ phrase('dbtech_credits_amount') }}</xf:option>
			</xf:select>
			<span class="inputGroup-splitter"></span>
			<xf:select name="direction" value="{{ $filters.direction ?: 'desc' }}">
				<xf:option value="desc">{{ phrase('descending') }}</xf:option>
				<xf:option value="asc">{{ phrase('ascending') }}</xf:option>
			</xf:select>
		</div>
	</div>

	<div class="menu-footer">
		<span class="menu-footer-controls">
			<xf:button type="submit" class="button--primary">{{ phrase('filter') }}</xf:button>
		</span>
	</div>
	<xf:hiddenval name="apply">1</xf:hiddenval>
</xf:form>]]></template>
  <template type="public" title="dbtech_credits_helper_user_group_edit" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:macro name="usable_checkboxes"
	arg-label="{{ phrase('usable_by_user_groups') }}"
	arg-explain=""
	arg-id="usable_user_group"
	arg-userGroups=""
	arg-selectedUserGroups="!"
	arg-withRow="1">


	<xf:if is="!$userGroups">
		<xf:set var="$userGroupRepo" value="{$xf.app.em.getRepository('XF:UserGroup')}" />
		<xf:set var="$userGroups" value="{$userGroupRepo.getUserGroupTitlePairs()}" />
	</xf:if>
	<xf:set var="$allUserGroups" value="{{ array_keys($userGroups) == $selectedUserGroups || in_array('-1', $selectedUserGroups) }}" />

	<xf:set var="$inner">
		<xf:radio name="{$id}" id="{$id}">
			<xf:option value="all" selected="{$allUserGroups}">{{ phrase('all_user_groups') }}</xf:option>
			<xf:option value="sel" selected="!{$allUserGroups}" label="{{ phrase('selected_user_groups:') }}">
				<xf:dependent>
					<xf:checkbox name="{{ $id . '_ids' }}" listclass="listColumns">
						<xf:foreach loop="$userGroups" key="$userGroupId" value="$userGroupTitle">
							<xf:option value="{$userGroupId}" selected="{{ in_array($userGroupId, $selectedUserGroups) || $allUserGroups  }}">
								{$userGroupTitle}
							</xf:option>
						</xf:foreach>
					</xf:checkbox>

					<xf:checkbox>
						<xf:option data-xf-init="check-all" data-container="{{ '#' . $id }}">{{ phrase('select_all') }}</xf:option>
					</xf:checkbox>
				</xf:dependent>
			</xf:option>
		</xf:radio>
	</xf:set>

	<xf:if is="$withRow">
		<xf:formrow label="{$label}" explain="{$explain}" name="{$id}" id="{$id}">
			{$inner|raw}
		</xf:formrow>
	<xf:else />
		{$inner|raw}
	</xf:if>
</xf:macro>

<xf:macro name="additional_checkboxes"
		  arg-label="{{ phrase('additional_user_groups') }}"
		  arg-explain=""
		  arg-id="extra_group_ids"
		  arg-userGroups=""
		  arg-selectedUserGroups="!"
		  arg-withRow="1">

	<xf:if is="!$userGroups">
		<xf:set var="$userGroupRepo" value="{$xf.app.em.getRepository('XF:UserGroup')}" />
		<xf:set var="$userGroups" value="{$userGroupRepo.getUserGroupTitlePairs()}" />
	</xf:if>

	<xf:set var="$inner">
		<div id="{$id}">
			<xf:checkbox name="{{ $id . '[]' }}" listclass="listColumns">
				<xf:foreach loop="$userGroups" key="$userGroupId" value="$userGroupTitle">
					<xf:option value="{$userGroupId}" selected="{{ in_array($userGroupId, $selectedUserGroups)  }}">
						{$userGroupTitle}
					</xf:option>
				</xf:foreach>
			</xf:checkbox>
			<xf:checkbox>
				<xf:option data-xf-init="check-all" data-container="{{ '#' . $id }}">{{ phrase('select_all') }}</xf:option>
			</xf:checkbox>
		</div>
	</xf:set>

	<xf:if is="$withRow">
		<xf:formrow label="{$label}" explain="{$explain}" name="{$id}" id="{$id}">
			{$inner|raw}
		</xf:formrow>
	<xf:else />
		{$inner|raw}
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="dbtech_credits_member_dropdown" version_id="905010033" version_string="5.1.0 Beta 3"><![CDATA[<xf:set var="$viewableCurrencies" value="{{ $xf.app.em.getRepository('DBTech\Credits:Currency').getCurrencies(true) }}" />

<xf:if is="$viewableCurrencies">
	<xf:foreach loop="$viewableCurrencies" value="$currency" if="$currency.member_dropdown">
		<dl class="pairs pairs--justified fauxBlockLink">
			<dt>{$currency.title}</dt>
			<dd>
				<a href="{{ link('dbtech-credits/currency', $currency) }}" data-xf-click="overlay" class="fauxBlockLink-linkRow u-concealed">
					{$currency.prefix}{{ $currency.getValueFromUser($xf.visitor) }}{$currency.suffix}
				</a>
			</dd>
		</dl>
	</xf:foreach>
</xf:if>]]></template>
  <template type="public" title="dbtech_credits_member_stats" version_id="905010052" version_string="5.1.0 Release Candidate 2"><![CDATA[<xf:set var="$viewableCurrencies" value="{{ $xf.app.em.getRepository('DBTech\Credits:Currency').getCurrencies(true) }}" />

<xf:if is="$viewableCurrencies">
	<xf:foreach loop="$viewableCurrencies" value="$currency" if="$currency.sidebar">
	<dl class="pairs pairs--rows pairs--rows--centered fauxBlockLink">
		<dt title="{$currency.title}">{$currency.title}</dt>
		<dd>
			<a href="{{ link('dbtech-credits/currency', $currency, {'user_id': $user.user_id}) }}" data-xf-click="overlay" class="fauxBlockLink-blockLink u-concealed">
				{$currency.prefix}{{ $currency.getValueFromUser($user) }}{$currency.suffix}
			</a>
		</dd>
	</dl>
	</xf:foreach>
</xf:if>]]></template>
  <template type="public" title="dbtech_credits_navbar_macro" version_id="905030033" version_string="5.3.0 Beta 3"><![CDATA[<xf:macro name="navbar" arg-section="!" arg-nav="">
	<xf:if is="{{ $nav AND $xf.visitor.canViewDbtechCredits() AND $xf.options.dbtech_credits_navbar.enabled == 2 AND $xf.options.dbtech_credits_navbar.right_position == $section }}">

		<xf:macro name="nav_link"
				  arg-navId="dbtech-credits"
				  arg-nav="{$nav}"
				  arg-titleHtml="{{ !$xf.options.dbtech_credits_navbar.right_text ? '' : null }}"
				  arg-class="p-navgroup-link--dbtech-credits" />

		<xf:comment>
		<xf:macro name="nav_link_old"
				  arg-navId="dbtechCredits"
				  arg-nav="{$nav}"
				  arg-titleHtml="{{ !$xf.options.dbtech_credits_navbar.right_text ? '' : null }}"
				  arg-icon="fa-money-bill-alt"
				  arg-menuTitle="{{ false }}" />
		</xf:comment>
	</xf:if>
</xf:macro>

<xf:macro name="nav_link" arg-navId="!" arg-nav="!" arg-titleHtml="{{ null }}" arg-menuTitle="{{ true }}" arg-shortcut="{{ false }}">
	<xf:set var="$tag" value="{{ $nav.href ? 'a' : 'span' }}" />

	<{$tag} {{ $nav.href ? 'href="' . $nav.href . '"' : '' }}
		class="p-navgroup-link p-navgroup-link--iconic p-navgroup-link--{$navId} js-badge--{$navId} badgeContainer{{ $nav.counter ? ' badgeContainer--highlighted' : '' }} {$nav.attributes.class}"
		data-badge="{$nav.counter|number}"
		{{ $nav.children ? 'data-xf-click="menu"' : '' }}
		{{ $shortcut !== false ? 'data-xf-key="' . $shortcut . '"' : '' }}
		data-menu-pos-ref="< .p-navgroup"
		aria-expanded="false"
		aria-haspopup="true">
			<i aria-hidden="true"></i>
			<span class="p-navgroup-linkText">{{ $titleHtml !== null ? $titleHtml|raw : $nav.title }}</span>
	</{$tag}>
	<xf:if is="$nav.children">
		<div class="menu menu--structural menu--medium" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				<xf:if is="$menuTitle">
					<h3 class="menu-header">
						<xf:if is="$nav.href">
							<a href="{$nav.href}">{$nav.title}</a>
						<xf:else />
							{$nav.title}
						</xf:if>
					</h3>
				</xf:if>
				<xf:foreach loop="$nav.children" key="$childNavId" value="$child">
					<xf:macro template="PAGE_CONTAINER"
							  name="nav_menu_entry"
							  arg-navId="{$childNavId}"
							  arg-nav="{$child}" />
				</xf:foreach>
			</div>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="nav_link_old" arg-navId="!" arg-nav="!" arg-titleHtml="{{ null }}" arg-class="" arg-icon="" arg-menuTitle="{{ true }}">
	<xf:if is="$icon">
		<xf:set var="$nav.icon" value="{$icon}" />
	</xf:if>

	<xf:set var="$navTitle" value="{$nav.title}" />
	<xf:if is="$titleHtml !== null">
		<xf:set var="$nav.title" value="" />
	</xf:if>

	<xf:if is="$nav.href">
		<xf:if is="$nav.children">
			<xf:set var="$nav.attributes.data-xf-click" value="menu" />
		</xf:if>
		<xf:macro template="PAGE_CONTAINER"
				  name="nav_link"
				  arg-navId="{$navId}"
				  arg-nav="{$nav}"
				  arg-class="p-navgroup-link p-navgroup-link--iconic {$class}" />
	<xf:elseif is="$nav.children" />
		<a data-xf-click="menu"
		   class="p-navgroup-link p-navgroup-link--iconic {$class}"
		   role="button"
		   tabindex="0"
		   aria-expanded="false"
		   aria-haspopup="true">
			<xf:macro template="PAGE_CONTAINER"
					  name="nav_link"
					  arg-navId="{$navId}"
					  arg-nav="{$nav}" />
		</a>
	<xf:else />
		<xf:macro template="PAGE_CONTAINER"
				  name="nav_link"
				  arg-navId="{$navId}"
				  arg-nav="{$nav}"
				  arg-class="p-navgroup-link p-navgroup-link--iconic {$class}" />
	</xf:if>

	<xf:if is="$nav.children">
		<div class="menu menu--structural" data-menu="menu" aria-hidden="true">
			<div class="menu-content">
				<xf:if is="$menuTitle">
					<h3 class="menu-header">
						<xf:if is="$nav.href">
							<a href="{$nav.href}">{$navTitle}</a>
						<xf:else />
							{$navTitle}
						</xf:if>
					</h3>
				</xf:if>
				<xf:foreach loop="$nav.children" key="$childNavId" value="$child">
					<xf:macro template="PAGE_CONTAINER"
							  name="nav_menu_entry"
							  arg-navId="{$childNavId}"
							  arg-nav="{$child}" />
				</xf:foreach>
			</div>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="dbtech_credits_payment_initiate" version_id="905050031" version_string="5.5.0 Beta 1"><![CDATA[<xf:title>{{ phrase('confirm_payment_details') }}</xf:title>

<xf:form action="{{ link('purchase/process', null, {'request_key': $purchaseRequest.request_key}) }}" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:formrow label="{{ phrase('dbtech_credits_original_price') }}">
				{$purchase.cost|currency($purchase.currency)}
			</xf:formrow>
			<xf:formrow label="{{ phrase('dbtech_credits_credits_charged') }}">
				{$currency.prefix}{$cost|number($currency.decimals)}{$currency.suffix} {$currency.title}
			</xf:formrow>
		</div>
		<xf:submitrow icon="purchase" rowtype="simple" />
	</div>
</xf:form>]]></template>
  <template type="public" title="dbtech_credits_postbit" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:set var="$viewableCurrencies" value="{{ $xf.app.em.getRepository('DBTech\Credits:Currency').getCurrencies(true) }}" />

<xf:if is="$viewableCurrencies">
	<xf:foreach loop="$viewableCurrencies" value="$currency" if="$currency.postbit">
	<dl class="pairs pairs--justified">
		<dt title="{$currency.title}">{$currency.title}</dt>
		<dd>
			<a href="{{ link('dbtech-credits/currency', $currency, {'user_id': $user.user_id}) }}" data-xf-click="overlay" class="fauxBlockLink-blockLink u-concealed">
				{$currency.prefix}{{ $currency.getValueFromUser($user) }}{$currency.suffix}
			</a>
		</dd>
	</dl>
	</xf:foreach>
</xf:if>]]></template>
  <template type="public" title="dbtech_credits_transaction_list.less" version_id="5000031" version_string="5.0.0"><![CDATA[.structItem-cell
{
	&.structItem-cell--meta
	{
		&.structItem-cell--transaction-meta
		{
			width: 175px;
			font-size: @xf-fontSizeSmaller;
		}
	}
}]]></template>
  <template type="public" title="dbtech_credits_transaction_macros" version_id="905010031" version_string="5.1.0 Beta 1"><![CDATA[<xf:macro name="list_filter_bar" arg-filters="!" arg-baseLinkPath="!" arg-sourceFilter="{{ null }}" arg-targetFilter="{{ null }}" arg-currencyFilter="{{ null }}" arg-eventFilter="{{ null }}" arg-eventTriggerFilter="{{ null }}">
	<xf:set var="$sortOrders" value="{{ {
		'dateline': phrase('date'),
		'amount': phrase('dbtech_credits_amount')
	} }}" />

	<div class="block-filterBar">
		<div class="filterBar">
			<xf:if contentcheck="true">
				<ul class="filterBar-filters">
					<xf:contentcheck>
						<xf:if is="$filters.source_id AND $sourceFilter">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace('source_id', null)) }}"
								   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('dbtech_credits_source_user:') }}</span>
								{$sourceFilter.username}</a></li>
						</xf:if>
						<xf:if is="$filters.target_id AND $targetFilter">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace('target_id', null)) }}"
								   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('dbtech_credits_target_user:') }}</span>
								{$targetFilter.username}</a></li>
						</xf:if>
						<xf:if is="$filters.currency_id AND $currencyFilter">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace('currency_id', null)) }}"
								   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('dbtech_credits_currency:') }}</span>
								{$currencyFilter.title}</a></li>
						</xf:if>
						<xf:if is="$filters.event_id AND $eventFilter">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace('event_id', null)) }}"
								   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('dbtech_credits_event:') }}</span>
								{$eventFilter.title}</a></li>
						</xf:if>
						<xf:if is="$filters.event_trigger_id AND $eventTriggerFilter">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace('event_trigger_id', null)) }}"
								   class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('remove_this_filter')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('dbtech_credits_eventtrigger:') }}</span>
								{{ $eventTriggerFilter.getTitle() }}</a></li>
						</xf:if>
						<xf:if is="$filters.order AND {$sortOrders.{$filters.order}}">
							<li><a href="{{ link($baseLinkPath, null, $filters|replace({'order': null, 'direction': null})) }}"
								class="filterBar-filterToggle" data-xf-init="tooltip" title="{{ phrase('return_to_default_order')|for_attr }}">
								<span class="filterBar-filterToggle-label">{{ phrase('sort_by:') }}</span>
								{$sortOrders.{$filters.order}}
								<i class="fa {{ $filters.direction == 'asc' ? 'fa-angle-up' : 'fa-angle-down' }}" aria-hidden="true"></i>
								<span class="u-srOnly"><xf:if is="$filters.direction == 'asc'">{{ phrase('ascending') }}<xf:else />{{ phrase('descending') }}</xf:if></span>
							</a></li>
						</xf:if>
					</xf:contentcheck>
				</ul>
			</xf:if>

			<a class="filterBar-menuTrigger" data-xf-click="menu" role="button" tabindex="0" aria-expanded="false" aria-haspopup="true">{{ phrase('filters') }}</a>
			<div class="menu menu--wide" data-menu="menu" aria-hidden="true"
				data-href="{{ link($baseLinkPath . '/filters', null, $filters) }}"
				data-load-target=".js-filterMenuBody">
				<div class="menu-content">
					<h4 class="menu-header">{{ phrase('show_only:') }}</h4>
					<div class="js-filterMenuBody">
						<div class="menu-row">{{ phrase('loading...') }}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="dbtech_credits_transactions" version_id="905060031" version_string="5.6.0 Beta 1"><![CDATA[<xf:title>{{ phrase('dbtech_credits_transactions') }}</xf:title>
<xf:h1>{{ phrase('dbtech_credits_transactions') }}</xf:h1>

<xf:css src="structured_list.less" />
<xf:css src="dbtech_credits_transaction_list.less" />

<div class="block block--messages">

	<xf:if contentcheck="true">
		<div class="block-outer">
			<xf:contentcheck>
				<xf:pagenav
					page="{$page}" perpage="{$perPage}" total="{$total}"
					link="dbtech-credits" params="{$filters}"
					wrapperclass="block-outer-main"
				/>
			</xf:contentcheck>
		</div>
	</xf:if>

	<xf:set var="$sortOrders" value="{{ {
		'dateline': phrase('date'),
		'amount': phrase('dbtech_credits_amount')
	} }}" />

	<div class="block-container">
		<xf:macro template="dbtech_credits_transaction_macros" name="list_filter_bar"
				  arg-filters="{$filters}"
				  arg-baseLinkPath="dbtech-credits"
				  arg-targetFilter="{$targetFilter}"
				  arg-sourceFilter="{$sourceFilter}"
				  arg-currencyFilter="{$currencyFilter}"
				  arg-eventFilter="{$eventFilter}"
				  arg-eventTriggerFilter="{$eventTriggerFilter}" />

		<div class="block-body">
			<xf:if is="$transactions is not empty">
				<div class="structItemContainer">
					<div class="structItemContainer-group">
						<xf:foreach loop="$transactions" value="$transaction">
							<xf:set var="$currency" value="{$transaction.Currency}" />
							<xf:set var="$event" value="{$transaction.Event}" />

							<div class="structItem  {{ $transaction.isIgnored() ? 'is-ignored' : '' }} {{ $transaction.transaction_state == 'moderated' ? 'is-moderated' : '' }} {{ ($transaction.transaction_state == 'deleted' || $transaction.negate) ? 'is-deleted' : '' }}">
								<div class="structItem-cell structItem-cell--icon">
									<div class="structItem-iconContainer">
										<xf:avatar user="$transaction.TargetUser" size="s" />
										<xf:if is="{$transaction.user_id} != {$transaction.source_user_id}">
											<xf:avatar user="$transaction.SourceUser" size="s"
													   class="avatar--separated structItem-secondaryIcon"
											/>
										</xf:if>
									</div>
								</div>
								<div class="structItem-cell structItem-cell--main">
									<xf:if contentcheck="true">
										<ul class="structItem-statuses">
											<xf:contentcheck>
												<xf:if is="$transaction.transaction_state == 'moderated'">
													<li>
														<i class="structItem-status structItem-status--moderated" aria-hidden="true" title="{{ phrase('awaiting_approval')|for_attr }}"></i>
														<span class="u-srOnly">{{ phrase('awaiting_approval') }}</span>
													</li>
												</xf:if>
												<xf:if is="$transaction.transaction_state == 'deleted'">
													<li>
														<i class="structItem-status structItem-status--deleted" aria-hidden="true" title="{{ phrase('deleted')|for_attr }}"></i>
														<span class="u-srOnly">{{ phrase('deleted') }}</span>
													</li>
												</xf:if>
											</xf:contentcheck>
										</ul>
									</xf:if>

									<div class="structItem-title">
										{$event.title}
									</div>

									<div class="structItem-minor">
										<ul class="structItem-parts">
											<xf:if is="{$transaction.user_id} != {$transaction.source_user_id}">
												<li>
													{{ phrase('dbtech_credits_target') }}: <xf:username user="$transaction.TargetUser" rich="true" />,
													{{ phrase('dbtech_credits_source') }}: <xf:username user="$transaction.SourceUser" rich="true" />
												</li>
												<xf:else />
												<li><xf:username user="$transaction.TargetUser" rich="true" /></li>
											</xf:if>
											<li class="structItem-startDate"><xf:date time="{$transaction.dateline}" /></li>
											<xf:if is="$transaction.message is not empty">
												<li>{$transaction.message}</li>
											</xf:if>

											<xf:set var="$contentLink" value="{{ $transaction.getContentLink() }}" />
											<xf:if is="$contentLink is not empty">
												<li>{$contentLink|raw}</li>
											</xf:if>
										</ul>
									</div>
								</div>
								<div class="structItem-cell structItem-cell--meta structItem-cell--transaction-meta">
									<dl class="pairs pairs--justified">
										<dt>{{ phrase('dbtech_credits_amount') }}</dt>
										<dd><a href="{{ link('dbtech-credits/currency', $currency, {'user_id': $transaction.user_id}) }}" data-xf-click="overlay">
											<xf:set var="$amount" value="{$transaction.amount}" />

											<xf:if is="$transaction.amount < 0 || ($transaction.negate && $transaction.amount == 0)">
												<xf:set var="$amount" value="{{ $transaction.amount < 0 ? ($transaction.amount * -1) : $transaction.amount }}" />

												{{ phrase('dbtech_credits_transaction_spent', {
													'amount': $amount|number($currency.decimals),
													'currency': $currency.title
												}) }}
											<xf:else />
												{{ phrase('dbtech_credits_transaction_earned', {
													'amount': $transaction.amount|number($currency.decimals),
													'currency': $currency.title
												}) }}
											</xf:if>
										</a></dd>
									</dl>
									<dl class="pairs pairs--justified">
										<dt>{{ phrase('dbtech_credits_balance') }}</dt>
										<dd><a href="{{ link('dbtech-credits/currency', $currency, {'user_id': $transaction.user_id}) }}" data-xf-click="overlay">{$currency.prefix}{$transaction.balance|number($currency.decimals)}{$currency.suffix} {{ $currency.title }}</a></dd>
									</dl>
								</div>
							</div>
						</xf:foreach>
					</div>
				</div>
			<xf:elseif is="$filters" />
				<div class="block-row">{{ phrase('dbtech_credits_there_no_transactions_matching_your_filters') }}</div>
			<xf:else />
				<div class="block-row">{{ phrase('dbtech_credits_no_transactions') }}</div>
			</xf:if>
		</div>
	</div>

	<xf:if contentcheck="true">
		<div class="block-outer block-outer--after">
			<xf:contentcheck>
				<xf:pagenav
					page="{$page}" perpage="{$perPage}" total="{$total}"
					link="dbtech-credits" params="{$filters}"
					wrapperclass="block-outer-main"
				/>
			</xf:contentcheck>
		</div>
	</xf:if>
</div>

<xf:widgetpos id="dbtech_credits_transactions_sidebar" position="sidebar" />]]></template>
  <template type="public" title="dbtech_credits_widget_richest" version_id="905080070" version_string="5.8.0"><![CDATA[<xf:if is="$currencies is not empty">
	<div class="block"{{ widget_data($widget) }}>
		<div class="block-container">
			<h3 class="block-minorHeader">
				{$title}
			</h3>
			<div class="block-body">
				<xf:foreach loop="$currencies" value="$currency">
					<xf:macro name="dbtech_credits_currency_macros::richest"
							  arg-currency="{$currency}"
							  arg-limit="{$options.limit}"
							  arg-showAmounts="{$options.showAmounts}"
					/>
				</xf:foreach>
			</div>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="dbtech_credits_widget_wallet" version_id="5000031" version_string="5.0.0"><![CDATA[<xf:if is="$currencies is not empty">
	<div class="block wallet"{{ widget_data($widget) }}>
		<div class="block-container">
			<h3 class="block-minorHeader">{$title}</h3>
			<div class="block-body block-row">
				<xf:foreach loop="$currencies" value="$currency">
					<xf:macro template="dbtech_credits_currency_macros" name="wallet" 
						arg-currency="{$currency}"
					/>
				</xf:foreach>
			</div>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="push_dbtech_credits_txn" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{$phrase|raw}
<push:url>{{ link('canonical:dbtech-credits/currency', $content.Currency) }}</push:url>]]></template>
  <template type="public" title="push_dbtech_credits_txn_adjust" version_id="905070070" version_string="5.7.0"><![CDATA[<xf:if is="$content.source_user_id == $content.user_id">
	<xf:if is="$content.amount < 0">
		{{ phrase('dbtech_credits_removed_x_y_via_adjust', {
			'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
		}) }}
	<xf:else />
		{{ phrase('dbtech_credits_added_x_y_via_adjust', {
			'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
		}) }}
	</xf:if>
<xf:else />	
	<xf:if is="$content.amount < 0">
		{{ phrase('dbtech_credits_x_took_y_z_via_adjust', {
			'source': $content.SourceUser.username ?: 'N/A',
			'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
		}) }}
	<xf:else />
		{{ phrase('dbtech_credits_x_gave_y_z_via_adjust', {
			'source': $content.SourceUser.username ?: 'N/A',
			'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
		}) }}
	</xf:if>
</xf:if>
<xf:if is="$content.message">{{ phrase('message:') }} {$content.message}</xf:if>
<push:url>{{ link('canonical:dbtech-credits/currency', $content.Currency) }}</push:url>]]></template>
  <template type="public" title="push_dbtech_credits_txn_donate" version_id="905060270" version_string="5.6.2"><![CDATA[<xf:if is="$content.amount < 0">
	{{ phrase('dbtech_credits_donated_y_z_to_x_via_donate', {
		'recipient': $user.username ?: 'N/A',
		'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
	}) }}
<xf:else />
	{{ phrase('dbtech_credits_x_donated_y_z_to_you_via_donate', {
		'source': $user.username ?: 'N/A',
		'currency': $content.Currency.getFormattedValue($amount) . ' ' . $content.Currency.title
	}) }}
</xf:if>
<xf:if is="$content.message">{{ phrase('message:') }} {$content.message}</xf:if>
<push:url>{{ link('canonical:dbtech-credits/currency', $content.Currency) }}</push:url>]]></template>
  <template type="public" title="push_user_dbt_credits_txn_approve" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{{ phrase('dbtech_credits_your_transaction_x_was_approved', {
	'title': $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
  <template type="public" title="push_user_dbt_credits_txn_reject" version_id="905030035" version_string="5.3.0 Beta 5"><![CDATA[{{ phrase('dbtech_credits_your_transaction_x_was_rejected', {
	'title': $extra.title
}) }}
<xf:if is="$extra.reason">{{ phrase('reason:') }} {$extra.reason}</xf:if>]]></template>
</templates>
