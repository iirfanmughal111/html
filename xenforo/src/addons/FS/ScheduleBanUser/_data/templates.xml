<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="public" title="fs_sch_user_ban_macros" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:macro name="banInfo" arg-user="!">
	<div class="blockMessage blockMessage--error">
		<p class="formRow-explain">
			<strong><xf:fa icon="fa-user-times fa-fw" title="{{ phrase('fs_sch_baninfo_header', {'user': $user.username})|for_attr }}"/> {{ phrase('fs_sch_baninfo_header', {'user': $user.username}) }}</strong>
		</p>	
		<p class="block-rowMessage block-rowMessage--warning block-rowMessage--iconic">
			{{ phrase('fs_baninfo_explain') }} 
		</p>
		<p class="formRow-explain">
			<strong><xf:fa icon="fa-user-circle fa-fw" title="{{ phrase('banned_by')|for_attr }}" /> {{ phrase('banned_by:') }}</strong> <xf:username user="{$user.Ban.BanUser}" rich="true" notooltip="true" /> <br />
			<strong><xf:fa icon="fa-calendar fa-fw" title="{{ phrase('ban_started')|for_attr }}" /> {{ phrase('ban_started:') }}</strong> <xf:date time="{{$user.Ban.ban_date}}" itemprop="datePublished" /><br />
			<strong><xf:fa icon="fa-flag fa-fw" title="{{ phrase('ban_ends')|for_attr }}"/> {{ phrase('ban_ends:') }}</strong> {{ $user.Ban.end_date ? date($user.Ban.end_date) : phrase('never') }} <br>
			<strong><xf:fa icon="fa-comment fa-fw" title="{{ phrase('reason_for_ban')|for_attr }}"/> {{ phrase('reason_for_ban:') }}</strong> {{ structured_text($user.Ban.user_reason) ?: phrase('n_a') }} <br />
			<strong><xf:fa icon="fa-fire fa-fw" title="{{ phrase('fs_automatically_triggered')|for_attr }}" /> {{ phrase('fs_automatically_triggered:') }}</strong> {{ $user.Ban.triggered ? phrase('yes') : phrase('no') }}
		</p>
	</div>
	<hr class="memberHeader-separator" />
</xf:macro>

<xf:macro name="banInfoBeforeBanProfile" arg-user="!">
	<div class="blockMessage blockMessage--error">
		<p class="formRow-explain">
			<strong><xf:fa icon="fa-user-times fa-fw" title="{{ phrase('fs_sch_baninfo_header', {'user': $user.username})|for_attr }}"/> {{ phrase('fs_sch_baninfo_header', {'user': $user.username}) }}</strong>
		</p>	
		<p class="formRow-explain">
			<strong><xf:fa icon="fa-user-circle fa-fw" title="{{ phrase('banned_by')|for_attr }}" /> {{ phrase('banned_by:') }}</strong> <xf:username user="{{$user.ScheduleBan.BanByUser}}" rich="true" notooltip="true" /> <br />
			<strong><xf:fa icon="fa-calendar fa-fw" title="{{ phrase('ban_started')|for_attr }}" /> {{ phrase('fs_sch_ban_on:') }}</strong> {{ date($user.ScheduleBan.ban_date, 'Y-m-d') }}, {{$user.ScheduleBan.getbanTime()}} <br />
			<strong><xf:fa icon="fa-comment fa-fw" title="{{ phrase('reason_for_ban')|for_attr }}"/> {{ phrase('reason_for_ban:') }}</strong> {{ structured_text($user.ScheduleBan.ban_reason) }} <br />
		</p>
	</div>
	<hr class="memberHeader-separator" />
</xf:macro>

<xf:macro name="messageInfo">
	<div class="blockMessage blockMessage--error blockMessage--iconic">
		{{ phrase('fs_ban_info_message') }}
	</div>
</xf:macro>

<xf:macro name="banInfoBeforeBan" arg-banDate="">
	<div class="blockMessage blockMessage--error">
		{{ phrase('fs_ban_info_post') }} {{ date($banDate.ban_date, 'Y-m-d') }}, {{$banDate.getbanTime()}}
	</div>
</xf:macro>]]></template>
  <template type="public" title="fs_user_ban_addEdit" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:if is="$userBanned.user_id">
	<xf:title>{{ phrase('editScheduleBanUser:') }} {$userBanned.User.username}</xf:title>
<xf:else />
	<xf:title>{{ phrase('scheduleBanUser') }}</xf:title>
</xf:if>
<xf:form action="{{ link('scheduleBanUser/save') }}" class="block" ajax="true">
	<div class="block-container">
		<div class="block-body">
		
					<input type="hidden" name="user_id" value="{{ $userBanned.user_id ? $userBanned.user_id : $user_id }}">
					<input type="hidden" name="ban_id" value="{{ $userBanned.ban_id ? $userBanned.ban_id : null }}">
					
			 <xf:formrow label="{{ phrase('ban_user_on') }}" rowtype="input">
          <div class="inputGroup">
            	<xf:dateinput name="ban_date" value="{{ $userBanned.ban_date ? date($userBanned.ban_date, 'Y-m-d') : date($xf.time, 'Y-m-d') }}"
				 />
			  
            <span class="inputGroup-splitter"></span>
          
			 <span class="inputGroup" dir="ltr">
			  <xf:textbox name="ban_time" class="input--date time start" required="true" type="time"
						value="{{$userBanned.getbanDate() ?: ''}}"
						data-xf-init="time-picker" data-moment="{$timeFormat}" data-format="{{ $xf.language.time_format }}" />
</span>
          </div>
        </xf:formrow>
			

			<xf:textboxrow name="ban_reason" value="{{ $userBanned.ban_reason ? $userBanned.ban_reason : '' }}"
				label="{{ phrase('fs_schedule_reason_for_banning') }}"
				explain="{{ phrase('fs_schedule_this_will_be_shown_to_user_if_provided') }}" />
		</div>
		<xf:submitrow icon="save">
			<xf:html>
				<xf:if is="$userBanned.user_id">
					<xf:button href="{{ link('scheduleBanUser/delete', $userBanned) }}" overlay="true">
						{{ phrase('fs_cancel_ban') }}
					</xf:button>
				</xf:if>
			</xf:html>
		</xf:submitrow>
	</div>
	<xf:redirect />
</xf:form>]]></template>
</templates>
