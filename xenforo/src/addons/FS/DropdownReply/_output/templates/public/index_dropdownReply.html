<xf:title>{{ phrase('fs_dropdown_reply_title') }}</xf:title>

<xf:breadcrumb source="$dropdownReplys.getBreadcrumbs(false)" />

<xf:pageaction>
  <xf:if is="$dropdownReplys.dropdwon_options != null">
    <xf:button
      href="{{ link('opt-reply/delete',$dropdownReplys) }}"
      icon="delete"
      overlay="true"
      ajax="true"
      >{{ phrase('fs_dropdown_reply_delete') }}</xf:button
    >
    <xf:else />

    <xf:button href="{{ link('opt-reply/add',$dropdownReplys) }}" icon="add"
      >{{ phrase('fs_dropdown_reply') }}</xf:button
    >
  </xf:if>
</xf:pageaction>

<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-container">
    <xf:if is="$dropdownReplys.dropdwon_options != null">
      <div class="block-body">
        <xf:datalist data-xf-init="responsive-data-list">
          <xf:macro
            name="dropdown_table_list"
            arg-usergroupData="{$dropdownReplys}"
          />
        </xf:datalist>
      </div>

      <xf:else />
      <div class="block-body block-row">
        {{ phrase('no_items_have_been_created_yet') }}
      </div>
    </xf:if>
  </div>
</xf:form>
<xf:macro name="dropdown_table_list" arg-dropdownReplys="{$dropdownReplys}">
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('dropdownTitle') }} </xf:cell>
    <xf:cell> {{ phrase('activeStatus') }} </xf:cell>

    <xf:cell class="dataList-cell--min"></xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>

  <xf:datarow>
    <xf:cell> {$dropdownReplys.title} </xf:cell>

    <xf:cell>
      {{$dropdownReplys.is_dropdown_active == 0 ? 'Inactive' : 'Active' }}
    </xf:cell>
  

    <xf:action href="{{ link('opt-reply/edit', $dropdownReplys) }}"
      >{{ phrase('edit') }}</xf:action
    >
    <xf:delete
      href="{{ link('opt-reply/delete', $dropdownReplys) }}"
      overlay="true"
    />
  </xf:datarow>
</xf:macro>

<!--Options-->

<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-container">
    <xf:if is="$dropdownReplys.dropdwon_options != null">
      <div class="block-body">
        <xf:datalist data-xf-init="responsive-data-list">
          <xf:macro
            name="dropdownOptions_table_list"
            arg-dropdownOptionData="{$dropdownReplys}"
          />
        </xf:datalist>
      </div>

    </xf:if>
  </div>
</xf:form>

<xf:macro name="dropdownOptions_table_list" arg-dropdownOptionData="">
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('optionList') }} </xf:cell>

    <xf:cell class="dataList-cell--min"></xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach
    loop="$dropdownOptionData.dropdwon_options"
    key="$index"
    value="$option"
  >
    <xf:if is="$option">
      <xf:datarow>
        <xf:cell> {{snippet($option, 10, {'stripBbCode': true})}} </xf:cell>
        <xf:action
          href="{{ link('opt-reply/edit-single', $dropdownOptionData,{'id':$index}) }}"
          >{{ phrase('edit') }}</xf:action
        >
        <xf:delete
          href="{{ link('opt-reply/delete-single', $dropdownOptionData,{'id':$index}) }}"
        />
      </xf:datarow>
    </xf:if>
  </xf:foreach>
</xf:macro>
