<xf:if is="$thread">
  <xf:title>{{ phrase('editNewdropdownReply') }}</xf:title>
  <xf:else />
  <xf:title>{{ phrase('addNewdropdownReply:') }}</xf:title>
</xf:if>

<div class="block">


  <xf:if is="$thread">
    <xf:breadcrumb source="$thread.getBreadcrumbs(false)" />
    <xf:form
      action="{{ link('opt-reply/save') }}"
      ajax="true"
      class="block-container"
      novalidate="novalidate"
    >
      <div class="block-body">
        <xf:if is="$thread.is_dropdown_active">
          <xf:checkboxrow>
            <xf:option name="status" checked="true">Active</xf:option>
          </xf:checkboxrow>
          <xf:else />
          <xf:checkboxrow>
            <xf:option name="status">Active</xf:option>
          </xf:checkboxrow>
        </xf:if>
        <input type="hidden" name="thread_id" value="{{$thread.thread_id}}" />

        <xf:formrow label="{{ phrase('DropdownOptions') }}" rowtype="input">
          <xf:foreach loop="$thread.dropdwon_options" value="$thread_val">
            <xf:if is="$thread_val">
              <xf:textboxrow
                name="options[]"
                placeholder="{{ phrase('enter_new_replay') }}"
                data-i="0"
                dir="ltr"
                value="{$thread_val}"
                rowtype="fullWidth"
              />
            </xf:if>
          </xf:foreach>
          <div
            class="inputGroup is-undraggable js-blockDragafter"
            data-xf-init="field-adder"
            data-remove-class="is-undraggable js-blockDragafter"
          >
            <xf:textboxrow
              name="options[]"
              placeholder="{{ phrase('enter_new_replay') }}"
              data-i="0"
              dir="ltr"
              rowtype="fullWidth"
            />
          </div>
        </xf:formrow>
      </div>

      <xf:submitrow icon="save" sticky="true" />
    </xf:form>
    <xf:else />

    <xf:form
      action="{{ link('opt-reply/save',$thread) }}"
      ajax="true"
      class="block-container"
      novalidate="novalidate"
    >
      <div class="block-body">
        <xf:checkboxrow>
          <xf:option name="status">Active</xf:option>
        </xf:checkboxrow>
        <input type="hidden" name="thread_id" value="{{$thread_id}}" />
        <xf:formrow label="{{ phrase('DropdownOptions') }}" rowtype="input">
          <div
            class="inputGroup is-undraggable js-blockDragafter"
            data-xf-init="field-adder"
            data-remove-class="is-undraggable js-blockDragafter"
          >
            <xf:textboxrow
              name="options[]"
              placeholder="{{ phrase('enter_new_replay') }}"
              data-i="0"
              dir="ltr"
              rowtype="fullWidth"
            />
          </div>
        </xf:formrow>
      </div>

      <xf:submitrow icon="save" sticky="true" />
    </xf:form>

  </xf:if>

</div>
